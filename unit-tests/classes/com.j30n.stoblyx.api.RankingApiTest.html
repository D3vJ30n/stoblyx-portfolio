<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - 랭킹 API 통합 테스트</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>랭킹 API 통합 테스트</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/com.j30n.stoblyx.api.html">com.j30n.stoblyx.api</a> &gt; RankingApiTest</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">7</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">2</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">0.470s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox failures" id="successRate">
<div class="percent">71%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Failed tests</a>
</li>
<li>
<a href="#tab1">Tests</a>
</li>
<li>
<a href="#tab2">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Failed tests</h2>
<div class="test">
<a name="testGetTopUsers()"></a>
<h3 class="failures">상위 사용자 랭킹 조회 API 테스트</h3>
<span class="code">
<pre>java.lang.AssertionError: 1 expectation failed.
JSON path data[0].userId doesn't match.
Expected: not null
  Actual: null

	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)
	at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:73)
	at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:108)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:277)
	at io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure.validate(ResponseSpecificationImpl.groovy:512)
	at io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure$validate$1.call(Unknown Source)
	at io.restassured.internal.ResponseSpecificationImpl.validateResponseIfRequired(ResponseSpecificationImpl.groovy:696)
	at io.restassured.internal.ResponseSpecificationImpl.this$2$validateResponseIfRequired(ResponseSpecificationImpl.groovy)
	at jdk.internal.reflect.GeneratedMethodAccessor373.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)
	at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:198)
	at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:62)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)
	at io.restassured.internal.ResponseSpecificationImpl.body(ResponseSpecificationImpl.groovy:270)
	at io.restassured.specification.ResponseSpecification$body$2.callCurrent(Unknown Source)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:49)
	at io.restassured.specification.ResponseSpecification$body$2.callCurrent(Unknown Source)
	at io.restassured.internal.ResponseSpecificationImpl.body(ResponseSpecificationImpl.groovy:117)
	at io.restassured.internal.ValidatableResponseOptionsImpl.body(ValidatableResponseOptionsImpl.java:244)
	at com.j30n.stoblyx.api.RankingApiTest.testGetTopUsers(RankingApiTest.java:56)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</pre>
</span>
</div>
<div class="test">
<a name="testGetUserRanking()"></a>
<h3 class="failures">사용자 랭킹 정보 조회 API 테스트</h3>
<span class="code">
<pre>java.lang.AssertionError: 1 expectation failed.
Expected status code &lt;200&gt; but was &lt;400&gt;.

	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)
	at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:73)
	at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:108)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:57)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:263)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:277)
	at io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure.validate(ResponseSpecificationImpl.groovy:512)
	at io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure$validate$1.call(Unknown Source)
	at io.restassured.internal.ResponseSpecificationImpl.validateResponseIfRequired(ResponseSpecificationImpl.groovy:696)
	at io.restassured.internal.ResponseSpecificationImpl.this$2$validateResponseIfRequired(ResponseSpecificationImpl.groovy)
	at jdk.internal.reflect.GeneratedMethodAccessor373.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)
	at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:198)
	at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:62)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)
	at io.restassured.internal.ResponseSpecificationImpl.statusCode(ResponseSpecificationImpl.groovy:135)
	at io.restassured.specification.ResponseSpecification$statusCode$1.callCurrent(Unknown Source)
	at io.restassured.internal.ResponseSpecificationImpl.statusCode(ResponseSpecificationImpl.groovy:143)
	at io.restassured.internal.ValidatableResponseOptionsImpl.statusCode(ValidatableResponseOptionsImpl.java:89)
	at com.j30n.stoblyx.api.RankingApiTest.testGetUserRanking(RankingApiTest.java:72)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
</pre>
</span>
</div>
</div>
<div id="tab1" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Method name</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">랭킹 통계 조회 API 테스트</td>
<td class="success">testGetRankingStatistics()</td>
<td class="success">0.094s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">인증 없이 랭킹 조회 테스트</td>
<td class="success">testGetRankingWithoutAuth()</td>
<td class="success">0.055s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="failures">상위 사용자 랭킹 조회 API 테스트</td>
<td class="failures">testGetTopUsers()</td>
<td class="failures">0.085s</td>
<td class="failures">failed</td>
</tr>
<tr>
<td class="failures">사용자 랭킹 정보 조회 API 테스트</td>
<td class="failures">testGetUserRanking()</td>
<td class="failures">0.043s</td>
<td class="failures">failed</td>
</tr>
<tr>
<td class="success">인증 없이 사용자 랭킹 정보 조회 시 실패 테스트</td>
<td class="success">testGetUserRankingWithoutAuth()</td>
<td class="success">0.020s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">랭크 타입별 사용자 목록 조회 API 테스트</td>
<td class="success">testGetUsersByRankType()</td>
<td class="success">0.091s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">활동 점수 업데이트 API 테스트</td>
<td class="success">testUpdateActivityScore()</td>
<td class="success">0.082s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab2" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>2025-03-13T11:12:24.403Z DEBUG 4523 --- [stoblyx] [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [RankingApiTest]: using SpringBootContextLoader
2025-03-13T11:12:24.404Z DEBUG 4523 --- [stoblyx] [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.j30n.stoblyx.api.RankingApiTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2025-03-13T11:12:24.404Z  INFO 4523 --- [stoblyx] [    Test worker] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.j30n.stoblyx.api.RankingApiTest]: RankingApiTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-03-13T11:12:24.404Z DEBUG 4523 --- [stoblyx] [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using ContextCustomizerFactory implementations for test class [RankingApiTest]: [OnFailureConditionReportContextCustomizerFactory, OverrideAutoConfigurationContextCustomizerFactory, ObservabilityContextCustomizerFactory, TypeExcludeFiltersContextCustomizerFactory, PropertyMappingContextCustomizerFactory, WebDriverContextCustomizerFactory, ImportsContextCustomizerFactory, ExcludeFilterContextCustomizerFactory, HttpGraphQlTesterContextCustomizerFactory, DuplicateJsonObjectContextCustomizerFactory, MockitoContextCustomizerFactory, TestRestTemplateContextCustomizerFactory, WebTestClientContextCustomizerFactory, DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory, MockServerContainerContextCustomizerFactory, DynamicPropertiesContextCustomizerFactory]
2025-03-13T11:12:24.405Z DEBUG 4523 --- [stoblyx] [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using ContextCustomizers for test class [RankingApiTest]: [OnFailureConditionReportContextCustomizer, DisableObservabilityContextCustomizer, PropertyMappingContextCustomizer, WebDriverContextCustomizer, ImportsContextCustomizer, ExcludeFilterContextCustomizer, DuplicateJsonObjectContextCustomizer, MockitoContextCustomizer, TestRestTemplateContextCustomizer, DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer]
2025-03-13T11:12:24.405Z  INFO 4523 --- [stoblyx] [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.j30n.stoblyx.StoblyxApplication for test class com.j30n.stoblyx.api.RankingApiTest
2025-03-13T11:12:24.406Z DEBUG 4523 --- [stoblyx] [    Test worker] .s.t.c.u.TestContextSpringFactoriesUtils : Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2025-03-13T11:12:24.406Z DEBUG 4523 --- [stoblyx] [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners for test class [RankingApiTest]: [ServletTestExecutionListener, DirtiesContextBeforeModesTestExecutionListener, ApplicationEventsTestExecutionListener, MockitoTestExecutionListener, DependencyInjectionTestExecutionListener, DirtiesContextTestExecutionListener, TransactionalTestExecutionListener, SqlScriptsTestExecutionListener, WithSecurityContextTestExecutionListener, EventPublishingTestExecutionListener, ReactorContextTestExecutionListener, RestDocsTestExecutionListener, MockRestServiceServerResetTestExecutionListener, MockMvcPrintOnlyOnFailureTestExecutionListener, WebDriverTestExecutionListener, MockWebServiceServerTestExecutionListener, ResetMocksTestExecutionListener]
2025-03-13T11:12:24.406Z DEBUG 4523 --- [stoblyx] [    Test worker] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.j30n.stoblyx.api.RankingApiTest
2025-03-13T11:12:24.406Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 562, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.407Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 563, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.407Z DEBUG 4523 --- [stoblyx] [    Test worker] sContextBeforeModesTestExecutionListener : Before test class: class [RankingApiTest], class annotated with @DirtiesContext [false] with mode [null]
2025-03-13T11:12:24.407Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 564, missCount = 6, failureCount = 1]
테스트 환경용 더미 토큰 초기화 완료
일반 사용자 토큰: test_user_token_for_testing
관리자 토큰: test_admin_token_for_testing
2025-03-13T11:12:24.408Z DEBUG 4523 --- [stoblyx] [    Test worker] sContextBeforeModesTestExecutionListener : Before test method: class [RankingApiTest], method [testGetUsersByRankType], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-13T11:12:24.409Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 565, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.409Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 566, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.409Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 567, missCount = 6, failureCount = 1]
랭킹 API 테스트 시작: 1741864344415
2025-03-13T11:12:24.415Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 568, missCount = 6, failureCount = 1]
Request method:	GET
Request URI:	http://localhost:33241/ranking/users?rankType=GOLD&amp;page=0&amp;size=10
Proxy:			&lt;none&gt;
Request params:	rankType=GOLD
				page=0
				size=10
Query params:	&lt;none&gt;
Form params:	&lt;none&gt;
Path params:	&lt;none&gt;
Headers:		Accept=application/json, application/javascript, text/javascript, text/json
				X-TEST-ROLE=ROLE_ADMIN
				X-CSRF-TOKEN=test-csrf-token
				Authorization=Bearer test_user_token_for_testing
				X-TEST-AUTH=true
				X-TEST-ROLE=ROLE_USER
				Content-Type=application/json
Cookies:		&lt;none&gt;
Multiparts:		&lt;none&gt;
Body:			&lt;none&gt;
2025-03-13T11:12:24.424Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /ranking/users?rankType=GOLD&amp;page=0&amp;size=10
2025-03-13T11:12:24.424Z  INFO 4523 --- [stoblyx] [o-auto-3-exec-9] urityTestConfig$TestAuthenticationFilter : 테스트 인증 설정됨 (ADMIN) - 사용자: testadmin, ID: 2
2025-03-13T11:12:24.425Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /ranking/users?rankType=GOLD&amp;page=0&amp;size=10
2025-03-13T11:12:24.425Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] o.s.web.servlet.DispatcherServlet        : GET &quot;/ranking/users?rankType=GOLD&amp;page=0&amp;size=10&quot;, parameters={masked}
2025-03-13T11:12:24.425Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.j30n.stoblyx.adapter.in.web.controller.RankingController#getUsersByRankType(RankType, Pageable)
CurrentUserArgumentTestResolver.supportsParameter 호출됨: pageable = false
2025-03-13T11:12:24.428Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] org.hibernate.SQL                        : 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        rus1_0.id,
        rus1_0.account_suspended,
        rus1_0.created_at,
        rus1_0.current_score,
        rus1_0.is_deleted,
        rus1_0.last_activity_date,
        rus1_0.modified_at,
        rus1_0.previous_score,
        rus1_0.rank_type,
        rus1_0.report_count,
        rus1_0.suspicious_activity,
        rus1_0.user_id 
    ?[34mfrom?[0m
        ranking_user_score rus1_0 
    ?[34mwhere?[0m
        rus1_0.rank_type=?
?[35m[Hibernate]?[0m 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        rus1_0.id,
        rus1_0.account_suspended,
        rus1_0.created_at,
        rus1_0.current_score,
        rus1_0.is_deleted,
        rus1_0.last_activity_date,
        rus1_0.modified_at,
        rus1_0.previous_score,
        rus1_0.rank_type,
        rus1_0.report_count,
        rus1_0.suspicious_activity,
        rus1_0.user_id 
    ?[34mfrom?[0m
        ranking_user_score rus1_0 
    ?[34mwhere?[0m
        rus1_0.rank_type=?
2025-03-13T11:12:24.430Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/javascript, text/javascript, text/json] and supported [application/json, application/*+json]
2025-03-13T11:12:24.431Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(result=SUCCESS, message=골드 랭크 사용자 목록을 성공적으로 조회했습니다., data=Page 1 of 0 containing UNKNOWN (truncated)...]
2025-03-13T11:12:24.435Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;골드 랭크 사용자 목록을 성공적으로 조회했습니다.&quot;,
    &quot;data&quot;: {
        &quot;content&quot;: [
            
        ],
        &quot;pageable&quot;: {
            &quot;pageNumber&quot;: 0,
            &quot;pageSize&quot;: 10,
            &quot;sort&quot;: {
                &quot;empty&quot;: true,
                &quot;sorted&quot;: false,
                &quot;unsorted&quot;: true
            },
            &quot;offset&quot;: 0,
            &quot;paged&quot;: true,
            &quot;unpaged&quot;: false
        },
        &quot;last&quot;: true,
        &quot;totalElements&quot;: 0,
        &quot;totalPages&quot;: 0,
        &quot;first&quot;: true,
        &quot;size&quot;: 10,
        &quot;number&quot;: 0,
        &quot;sort&quot;: {
            &quot;empty&quot;: true,
            &quot;sorted&quot;: false,
            &quot;unsorted&quot;: true
        },
        &quot;numberOfElements&quot;: 0,
        &quot;empty&quot;: true
    }
}
HTTP/1.1 200 
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: SAMEORIGIN
Content-Type: application/json
Transfer-Encoding: chunked
Date: Thu, 13 Mar 2025 11:12:24 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;골드 랭크 사용자 목록을 성공적으로 조회했습니다.&quot;,
    &quot;data&quot;: {
        &quot;content&quot;: [
            
        ],
        &quot;pageable&quot;: {
            &quot;pageNumber&quot;: 0,
            &quot;pageSize&quot;: 10,
            &quot;sort&quot;: {
                &quot;empty&quot;: true,
                &quot;sorted&quot;: false,
                &quot;unsorted&quot;: true
            },
            &quot;offset&quot;: 0,
            &quot;paged&quot;: true,
            &quot;unpaged&quot;: false
        },
        &quot;last&quot;: true,
        &quot;totalElements&quot;: 0,
        &quot;totalPages&quot;: 0,
        &quot;first&quot;: true,
        &quot;size&quot;: 10,
        &quot;number&quot;: 0,
        &quot;sort&quot;: {
            &quot;empty&quot;: true,
            &quot;sorted&quot;: false,
            &quot;unsorted&quot;: true
        },
        &quot;numberOfElements&quot;: 0,
        &quot;empty&quot;: true
    }
}
랭크 타입별 사용자 목록 조회 테스트 완료
2025-03-13T11:12:24.496Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 569, missCount = 6, failureCount = 1]
랭킹 API 테스트 종료: 1741864344497
2025-03-13T11:12:24.497Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 570, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.498Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 571, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.498Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 572, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.499Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 573, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.499Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 574, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.499Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 575, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.499Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 576, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.500Z DEBUG 4523 --- [stoblyx] [    Test worker] .c.s.DirtiesContextTestExecutionListener : After test method: class [RankingApiTest], method [testGetUsersByRankType], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-13T11:12:24.502Z DEBUG 4523 --- [stoblyx] [    Test worker] sContextBeforeModesTestExecutionListener : Before test method: class [RankingApiTest], method [testGetUserRanking], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-13T11:12:24.502Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 577, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.502Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 578, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.502Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 579, missCount = 6, failureCount = 1]
랭킹 API 테스트 시작: 1741864344503
2025-03-13T11:12:24.503Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 580, missCount = 6, failureCount = 1]
Request method:	GET
Request URI:	http://localhost:33241/users/me/ranking
Proxy:			&lt;none&gt;
Request params:	&lt;none&gt;
Query params:	&lt;none&gt;
Form params:	&lt;none&gt;
Path params:	&lt;none&gt;
Headers:		Accept=application/json, application/javascript, text/javascript, text/json
				X-TEST-ROLE=ROLE_ADMIN
				X-CSRF-TOKEN=test-csrf-token
				Authorization=Bearer test_user_token_for_testing
				X-TEST-AUTH=true
				X-TEST-ROLE=ROLE_USER
				Content-Type=application/json
Cookies:		&lt;none&gt;
Multiparts:		&lt;none&gt;
Body:			&lt;none&gt;
2025-03-13T11:12:24.513Z DEBUG 4523 --- [stoblyx] [-auto-3-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /users/me/ranking
2025-03-13T11:12:24.513Z  INFO 4523 --- [stoblyx] [-auto-3-exec-10] urityTestConfig$TestAuthenticationFilter : 테스트 인증 설정됨 (ADMIN) - 사용자: testadmin, ID: 2
2025-03-13T11:12:24.514Z DEBUG 4523 --- [stoblyx] [-auto-3-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /users/me/ranking
2025-03-13T11:12:24.514Z DEBUG 4523 --- [stoblyx] [-auto-3-exec-10] o.s.web.servlet.DispatcherServlet        : GET &quot;/users/me/ranking&quot;, parameters={}
2025-03-13T11:12:24.514Z DEBUG 4523 --- [stoblyx] [-auto-3-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.j30n.stoblyx.adapter.in.web.controller.UserController#getUserRanking(UserPrincipal)
CurrentUserArgumentTestResolver.supportsParameter 호출됨: userPrincipal = true
CurrentUserArgumentTestResolver.resolveArgument 호출됨
2025-03-13T11:12:24.515Z DEBUG 4523 --- [stoblyx] [-auto-3-exec-10] esolvers$CurrentUserArgumentTestResolver : 파라미터 정보: userPrincipal
2025-03-13T11:12:24.515Z DEBUG 4523 --- [stoblyx] [-auto-3-exec-10] esolvers$CurrentUserArgumentTestResolver : 파라미터 타입: com.j30n.stoblyx.infrastructure.security.UserPrincipal
2025-03-13T11:12:24.515Z DEBUG 4523 --- [stoblyx] [-auto-3-exec-10] esolvers$CurrentUserArgumentTestResolver : Principal 타입: com.j30n.stoblyx.infrastructure.security.UserPrincipal
2025-03-13T11:12:24.515Z DEBUG 4523 --- [stoblyx] [-auto-3-exec-10] esolvers$CurrentUserArgumentTestResolver : Principal 정보: com.j30n.stoblyx.infrastructure.security.UserPrincipal@421217e9
2025-03-13T11:12:24.515Z DEBUG 4523 --- [stoblyx] [-auto-3-exec-10] esolvers$CurrentUserArgumentTestResolver : 인증 정보: [ROLE_ADMIN]
2025-03-13T11:12:24.515Z DEBUG 4523 --- [stoblyx] [-auto-3-exec-10] esolvers$CurrentUserArgumentTestResolver : Principal이 UserPrincipal 타입입니다.
2025-03-13T11:12:24.515Z DEBUG 4523 --- [stoblyx] [-auto-3-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.j30n.stoblyx.adapter.in.web.controller.UserController.getUserRanking(com.j30n.stoblyx.infrastructure.security.UserPrincipal); target is of class [com.j30n.stoblyx.adapter.in.web.controller.UserController]
2025-03-13T11:12:24.515Z DEBUG 4523 --- [stoblyx] [-auto-3-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.j30n.stoblyx.adapter.in.web.controller.UserController.getUserRanking(com.j30n.stoblyx.infrastructure.security.UserPrincipal); target is of class [com.j30n.stoblyx.adapter.in.web.controller.UserController]
2025-03-13T11:12:24.517Z DEBUG 4523 --- [stoblyx] [-auto-3-exec-10] org.hibernate.SQL                        : 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        rus1_0.id,
        rus1_0.account_suspended,
        rus1_0.created_at,
        rus1_0.current_score,
        rus1_0.is_deleted,
        rus1_0.last_activity_date,
        rus1_0.modified_at,
        rus1_0.previous_score,
        rus1_0.rank_type,
        rus1_0.report_count,
        rus1_0.suspicious_activity,
        rus1_0.user_id 
    ?[34mfrom?[0m
        ranking_user_score rus1_0 
    ?[34mwhere?[0m
        rus1_0.user_id=?
?[35m[Hibernate]?[0m 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        rus1_0.id,
        rus1_0.account_suspended,
        rus1_0.created_at,
        rus1_0.current_score,
        rus1_0.is_deleted,
        rus1_0.last_activity_date,
        rus1_0.modified_at,
        rus1_0.previous_score,
        rus1_0.rank_type,
        rus1_0.report_count,
        rus1_0.suspicious_activity,
        rus1_0.user_id 
    ?[34mfrom?[0m
        ranking_user_score rus1_0 
    ?[34mwhere?[0m
        rus1_0.user_id=?
2025-03-13T11:12:24.519Z ERROR 4523 --- [stoblyx] [-auto-3-exec-10] c.j.s.a.i.web.controller.UserController  : 사용자 랭킹 정보 조회 중 오류 발생

java.lang.IllegalArgumentException: User score not found for userId: 2
	at com.j30n.stoblyx.application.service.ranking.RankingUserScoreService.lambda$getUserScore$0(RankingUserScoreService.java:35)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.j30n.stoblyx.application.service.ranking.RankingUserScoreService.getUserScore(RankingUserScoreService.java:35)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at com.j30n.stoblyx.application.service.ranking.RankingUserScoreService$$SpringCGLIB$$0.getUserScore(&lt;generated&gt;)
	at com.j30n.stoblyx.adapter.in.web.controller.UserController.getUserRanking(UserController.java:175)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:269)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:264)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.j30n.stoblyx.adapter.in.web.controller.UserController$$SpringCGLIB$$0.getUserRanking(&lt;generated&gt;)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:527)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.j30n.stoblyx.infrastructure.security.XssFilter.doFilter(XssFilter.java:63)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.j30n.stoblyx.common.util.XssFilterAdapter.doFilter(XssFilterAdapter.java:18)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.j30n.stoblyx.config.SecurityTestConfig$TestAuthenticationFilter.doFilterInternal(SecurityTestConfig.java:119)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)

2025-03-13T11:12:24.521Z DEBUG 4523 --- [stoblyx] [-auto-3-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.j30n.stoblyx.config.ControllerTestAdvice#handleIllegalArgumentException(IllegalArgumentException)
2025-03-13T11:12:24.521Z DEBUG 4523 --- [stoblyx] [-auto-3-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/javascript, text/javascript, text/json] and supported [application/json, application/*+json]
2025-03-13T11:12:24.521Z DEBUG 4523 --- [stoblyx] [-auto-3-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(result=ERROR, message=사용자 랭킹 정보 조회 중 오류가 발생했습니다: User score not found for userId: 2, dat (truncated)...]
2025-03-13T11:12:24.522Z DEBUG 4523 --- [stoblyx] [-auto-3-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.IllegalArgumentException: 사용자 랭킹 정보 조회 중 오류가 발생했습니다: User score not found for userId: 2]
2025-03-13T11:12:24.522Z DEBUG 4523 --- [stoblyx] [-auto-3-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
{
    &quot;result&quot;: &quot;ERROR&quot;,
    &quot;message&quot;: &quot;사용자 랭킹 정보 조회 중 오류가 발생했습니다: User score not found for userId: 2&quot;,
    &quot;data&quot;: null
}
HTTP/1.1 400 
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: SAMEORIGIN
Content-Type: application/json
Transfer-Encoding: chunked
Date: Thu, 13 Mar 2025 11:12:24 GMT
Connection: close

{
    &quot;result&quot;: &quot;ERROR&quot;,
    &quot;message&quot;: &quot;사용자 랭킹 정보 조회 중 오류가 발생했습니다: User score not found for userId: 2&quot;,
    &quot;data&quot;: null
}
HTTP/1.1 400 
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: SAMEORIGIN
Content-Type: application/json
Transfer-Encoding: chunked
Date: Thu, 13 Mar 2025 11:12:24 GMT
Connection: close

{
    &quot;result&quot;: &quot;ERROR&quot;,
    &quot;message&quot;: &quot;사용자 랭킹 정보 조회 중 오류가 발생했습니다: User score not found for userId: 2&quot;,
    &quot;data&quot;: null
}
2025-03-13T11:12:24.539Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 581, missCount = 6, failureCount = 1]
랭킹 API 테스트 종료: 1741864344539
2025-03-13T11:12:24.540Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 582, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.542Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 583, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.542Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 584, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.542Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 585, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.543Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 586, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.543Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 587, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.544Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 588, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.544Z DEBUG 4523 --- [stoblyx] [    Test worker] .c.s.DirtiesContextTestExecutionListener : After test method: class [RankingApiTest], method [testGetUserRanking], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-13T11:12:24.545Z DEBUG 4523 --- [stoblyx] [    Test worker] sContextBeforeModesTestExecutionListener : Before test method: class [RankingApiTest], method [testGetRankingWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-13T11:12:24.545Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 589, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.546Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 590, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.546Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 591, missCount = 6, failureCount = 1]
랭킹 API 테스트 시작: 1741864344547
2025-03-13T11:12:24.548Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 592, missCount = 6, failureCount = 1]
Request method:	GET
Request URI:	http://localhost:33241/ranking/top?limit=10
Proxy:			&lt;none&gt;
Request params:	limit=10
Query params:	&lt;none&gt;
Form params:	&lt;none&gt;
Path params:	&lt;none&gt;
Headers:		Accept=application/json, application/javascript, text/javascript, text/json
				X-TEST-ROLE=ROLE_ADMIN
				X-CSRF-TOKEN=test-csrf-token
				Content-Type=application/json
Cookies:		&lt;none&gt;
Multiparts:		&lt;none&gt;
Body:			&lt;none&gt;
2025-03-13T11:12:24.558Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /ranking/top?limit=10
2025-03-13T11:12:24.559Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-13T11:12:24.559Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /ranking/top?limit=10
2025-03-13T11:12:24.559Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/ranking/top?limit=10&quot;, parameters={masked}
2025-03-13T11:12:24.559Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.j30n.stoblyx.adapter.in.web.controller.RankingController#getTopUsers(int)
2025-03-13T11:12:24.564Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-1] org.hibernate.SQL                        : 
    /* ?[34mSELECT?[0m
        r 
    ?[34mFROM?[0m
        RankingUserScore r 
    ?[34mWHERE?[0m
        r.accountSuspended = ?[34mfalse?[0m 
    ?[34mORDER?[0m ?[34mBY?[0m
        r.currentScore DESC */ ?[34mselect?[0m
            rus1_0.id,
            rus1_0.account_suspended,
            rus1_0.created_at,
            rus1_0.current_score,
            rus1_0.is_deleted,
            rus1_0.last_activity_date,
            rus1_0.modified_at,
            rus1_0.previous_score,
            rus1_0.rank_type,
            rus1_0.report_count,
            rus1_0.suspicious_activity,
            rus1_0.user_id 
        ?[34mfrom?[0m
            ranking_user_score rus1_0 
        ?[34mwhere?[0m
            rus1_0.account_suspended=?[34mfalse?[0m 
        ?[34morder?[0m ?[34mby?[0m
            rus1_0.current_score desc 
        ?[34mfetch?[0m
            first ? ?[34mrows?[0m ?[34monly?[0m
?[35m[Hibernate]?[0m 
    /* ?[34mSELECT?[0m
        r 
    ?[34mFROM?[0m
        RankingUserScore r 
    ?[34mWHERE?[0m
        r.accountSuspended = ?[34mfalse?[0m 
    ?[34mORDER?[0m ?[34mBY?[0m
        r.currentScore DESC */ ?[34mselect?[0m
            rus1_0.id,
            rus1_0.account_suspended,
            rus1_0.created_at,
            rus1_0.current_score,
            rus1_0.is_deleted,
            rus1_0.last_activity_date,
            rus1_0.modified_at,
            rus1_0.previous_score,
            rus1_0.rank_type,
            rus1_0.report_count,
            rus1_0.suspicious_activity,
            rus1_0.user_id 
        ?[34mfrom?[0m
            ranking_user_score rus1_0 
        ?[34mwhere?[0m
            rus1_0.account_suspended=?[34mfalse?[0m 
        ?[34morder?[0m ?[34mby?[0m
            rus1_0.current_score desc 
        ?[34mfetch?[0m
            first ? ?[34mrows?[0m ?[34monly?[0m
2025-03-13T11:12:24.565Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/javascript, text/javascript, text/json] and supported [application/json, application/*+json]
2025-03-13T11:12:24.566Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(result=SUCCESS, message=상위 사용자 랭킹을 성공적으로 조회했습니다., data=[])]
2025-03-13T11:12:24.569Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;상위 사용자 랭킹을 성공적으로 조회했습니다.&quot;,
    &quot;data&quot;: [
        
    ]
}
HTTP/1.1 200 
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: SAMEORIGIN
Content-Type: application/json
Transfer-Encoding: chunked
Date: Thu, 13 Mar 2025 11:12:24 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;상위 사용자 랭킹을 성공적으로 조회했습니다.&quot;,
    &quot;data&quot;: [
        
    ]
}
인증 없이 랭킹 조회 테스트 완료
2025-03-13T11:12:24.595Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 593, missCount = 6, failureCount = 1]
랭킹 API 테스트 종료: 1741864344596
2025-03-13T11:12:24.596Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 594, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.599Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 595, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.599Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 596, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.599Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 597, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.600Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 598, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.600Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 599, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.600Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 600, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.600Z DEBUG 4523 --- [stoblyx] [    Test worker] .c.s.DirtiesContextTestExecutionListener : After test method: class [RankingApiTest], method [testGetRankingWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-13T11:12:24.601Z DEBUG 4523 --- [stoblyx] [    Test worker] sContextBeforeModesTestExecutionListener : Before test method: class [RankingApiTest], method [testGetRankingStatistics], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-13T11:12:24.602Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 601, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.602Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 602, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.602Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 603, missCount = 6, failureCount = 1]
랭킹 API 테스트 시작: 1741864344603
2025-03-13T11:12:24.603Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 604, missCount = 6, failureCount = 1]
Request method:	GET
Request URI:	http://localhost:33241/ranking/statistics
Proxy:			&lt;none&gt;
Request params:	&lt;none&gt;
Query params:	&lt;none&gt;
Form params:	&lt;none&gt;
Path params:	&lt;none&gt;
Headers:		Accept=application/json, application/javascript, text/javascript, text/json
				X-TEST-ROLE=ROLE_ADMIN
				X-CSRF-TOKEN=test-csrf-token
				Authorization=Bearer test_user_token_for_testing
				X-TEST-AUTH=true
				X-TEST-ROLE=ROLE_USER
				Content-Type=application/json
Cookies:		&lt;none&gt;
Multiparts:		&lt;none&gt;
Body:			&lt;none&gt;
2025-03-13T11:12:24.615Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /ranking/statistics
2025-03-13T11:12:24.615Z  INFO 4523 --- [stoblyx] [o-auto-3-exec-3] urityTestConfig$TestAuthenticationFilter : 테스트 인증 설정됨 (ADMIN) - 사용자: testadmin, ID: 2
2025-03-13T11:12:24.616Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /ranking/statistics
2025-03-13T11:12:24.616Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-3] o.s.web.servlet.DispatcherServlet        : GET &quot;/ranking/statistics&quot;, parameters={}
2025-03-13T11:12:24.616Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.j30n.stoblyx.adapter.in.web.controller.RankingController#getRankingStatistics()
2025-03-13T11:12:24.618Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-3] org.hibernate.SQL                        : 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        rus1_0.id,
        rus1_0.account_suspended,
        rus1_0.created_at,
        rus1_0.current_score,
        rus1_0.is_deleted,
        rus1_0.last_activity_date,
        rus1_0.modified_at,
        rus1_0.previous_score,
        rus1_0.rank_type,
        rus1_0.report_count,
        rus1_0.suspicious_activity,
        rus1_0.user_id 
    ?[34mfrom?[0m
        ranking_user_score rus1_0 
    ?[34mwhere?[0m
        rus1_0.rank_type=?
?[35m[Hibernate]?[0m 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        rus1_0.id,
        rus1_0.account_suspended,
        rus1_0.created_at,
        rus1_0.current_score,
        rus1_0.is_deleted,
        rus1_0.last_activity_date,
        rus1_0.modified_at,
        rus1_0.previous_score,
        rus1_0.rank_type,
        rus1_0.report_count,
        rus1_0.suspicious_activity,
        rus1_0.user_id 
    ?[34mfrom?[0m
        ranking_user_score rus1_0 
    ?[34mwhere?[0m
        rus1_0.rank_type=?
2025-03-13T11:12:24.622Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-3] org.hibernate.SQL                        : 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        rus1_0.id,
        rus1_0.account_suspended,
        rus1_0.created_at,
        rus1_0.current_score,
        rus1_0.is_deleted,
        rus1_0.last_activity_date,
        rus1_0.modified_at,
        rus1_0.previous_score,
        rus1_0.rank_type,
        rus1_0.report_count,
        rus1_0.suspicious_activity,
        rus1_0.user_id 
    ?[34mfrom?[0m
        ranking_user_score rus1_0 
    ?[34mwhere?[0m
        rus1_0.rank_type=?
?[35m[Hibernate]?[0m 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        rus1_0.id,
        rus1_0.account_suspended,
        rus1_0.created_at,
        rus1_0.current_score,
        rus1_0.is_deleted,
        rus1_0.last_activity_date,
        rus1_0.modified_at,
        rus1_0.previous_score,
        rus1_0.rank_type,
        rus1_0.report_count,
        rus1_0.suspicious_activity,
        rus1_0.user_id 
    ?[34mfrom?[0m
        ranking_user_score rus1_0 
    ?[34mwhere?[0m
        rus1_0.rank_type=?
2025-03-13T11:12:24.625Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-3] org.hibernate.SQL                        : 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        rus1_0.id,
        rus1_0.account_suspended,
        rus1_0.created_at,
        rus1_0.current_score,
        rus1_0.is_deleted,
        rus1_0.last_activity_date,
        rus1_0.modified_at,
        rus1_0.previous_score,
        rus1_0.rank_type,
        rus1_0.report_count,
        rus1_0.suspicious_activity,
        rus1_0.user_id 
    ?[34mfrom?[0m
        ranking_user_score rus1_0 
    ?[34mwhere?[0m
        rus1_0.rank_type=?
?[35m[Hibernate]?[0m 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        rus1_0.id,
        rus1_0.account_suspended,
        rus1_0.created_at,
        rus1_0.current_score,
        rus1_0.is_deleted,
        rus1_0.last_activity_date,
        rus1_0.modified_at,
        rus1_0.previous_score,
        rus1_0.rank_type,
        rus1_0.report_count,
        rus1_0.suspicious_activity,
        rus1_0.user_id 
    ?[34mfrom?[0m
        ranking_user_score rus1_0 
    ?[34mwhere?[0m
        rus1_0.rank_type=?
2025-03-13T11:12:24.626Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-3] org.hibernate.SQL                        : 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        rus1_0.id,
        rus1_0.account_suspended,
        rus1_0.created_at,
        rus1_0.current_score,
        rus1_0.is_deleted,
        rus1_0.last_activity_date,
        rus1_0.modified_at,
        rus1_0.previous_score,
        rus1_0.rank_type,
        rus1_0.report_count,
        rus1_0.suspicious_activity,
        rus1_0.user_id 
    ?[34mfrom?[0m
        ranking_user_score rus1_0 
    ?[34mwhere?[0m
        rus1_0.rank_type=?
?[35m[Hibernate]?[0m 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        rus1_0.id,
        rus1_0.account_suspended,
        rus1_0.created_at,
        rus1_0.current_score,
        rus1_0.is_deleted,
        rus1_0.last_activity_date,
        rus1_0.modified_at,
        rus1_0.previous_score,
        rus1_0.rank_type,
        rus1_0.report_count,
        rus1_0.suspicious_activity,
        rus1_0.user_id 
    ?[34mfrom?[0m
        ranking_user_score rus1_0 
    ?[34mwhere?[0m
        rus1_0.rank_type=?
2025-03-13T11:12:24.626Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-3] org.hibernate.SQL                        : 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        rus1_0.id,
        rus1_0.account_suspended,
        rus1_0.created_at,
        rus1_0.current_score,
        rus1_0.is_deleted,
        rus1_0.last_activity_date,
        rus1_0.modified_at,
        rus1_0.previous_score,
        rus1_0.rank_type,
        rus1_0.report_count,
        rus1_0.suspicious_activity,
        rus1_0.user_id 
    ?[34mfrom?[0m
        ranking_user_score rus1_0 
    ?[34mwhere?[0m
        rus1_0.rank_type=?
?[35m[Hibernate]?[0m 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        rus1_0.id,
        rus1_0.account_suspended,
        rus1_0.created_at,
        rus1_0.current_score,
        rus1_0.is_deleted,
        rus1_0.last_activity_date,
        rus1_0.modified_at,
        rus1_0.previous_score,
        rus1_0.rank_type,
        rus1_0.report_count,
        rus1_0.suspicious_activity,
        rus1_0.user_id 
    ?[34mfrom?[0m
        ranking_user_score rus1_0 
    ?[34mwhere?[0m
        rus1_0.rank_type=?
2025-03-13T11:12:24.627Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-3] org.hibernate.SQL                        : 
    /* ?[34mSELECT?[0m
        r 
    ?[34mFROM?[0m
        RankingUserScore r 
    ?[34mWHERE?[0m
        r.accountSuspended = ?[34mfalse?[0m 
    ?[34mORDER?[0m ?[34mBY?[0m
        r.currentScore DESC */ ?[34mselect?[0m
            rus1_0.id,
            rus1_0.account_suspended,
            rus1_0.created_at,
            rus1_0.current_score,
            rus1_0.is_deleted,
            rus1_0.last_activity_date,
            rus1_0.modified_at,
            rus1_0.previous_score,
            rus1_0.rank_type,
            rus1_0.report_count,
            rus1_0.suspicious_activity,
            rus1_0.user_id 
        ?[34mfrom?[0m
            ranking_user_score rus1_0 
        ?[34mwhere?[0m
            rus1_0.account_suspended=?[34mfalse?[0m 
        ?[34morder?[0m ?[34mby?[0m
            rus1_0.current_score desc 
        ?[34mfetch?[0m
            first ? ?[34mrows?[0m ?[34monly?[0m
?[35m[Hibernate]?[0m 
    /* ?[34mSELECT?[0m
        r 
    ?[34mFROM?[0m
        RankingUserScore r 
    ?[34mWHERE?[0m
        r.accountSuspended = ?[34mfalse?[0m 
    ?[34mORDER?[0m ?[34mBY?[0m
        r.currentScore DESC */ ?[34mselect?[0m
            rus1_0.id,
            rus1_0.account_suspended,
            rus1_0.created_at,
            rus1_0.current_score,
            rus1_0.is_deleted,
            rus1_0.last_activity_date,
            rus1_0.modified_at,
            rus1_0.previous_score,
            rus1_0.rank_type,
            rus1_0.report_count,
            rus1_0.suspicious_activity,
            rus1_0.user_id 
        ?[34mfrom?[0m
            ranking_user_score rus1_0 
        ?[34mwhere?[0m
            rus1_0.account_suspended=?[34mfalse?[0m 
        ?[34morder?[0m ?[34mby?[0m
            rus1_0.current_score desc 
        ?[34mfetch?[0m
            first ? ?[34mrows?[0m ?[34monly?[0m
2025-03-13T11:12:24.630Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/javascript, text/javascript, text/json] and supported [application/json, application/*+json]
2025-03-13T11:12:24.630Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(result=SUCCESS, message=랭킹 통계를 성공적으로 조회했습니다., data=RankingStatisticsResponse(rankDistrib (truncated)...]
2025-03-13T11:12:24.635Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;랭킹 통계를 성공적으로 조회했습니다.&quot;,
    &quot;data&quot;: {
        &quot;rankDistribution&quot;: {
            &quot;GOLD&quot;: 0,
            &quot;BRONZE&quot;: 0,
            &quot;DIAMOND&quot;: 0,
            &quot;SILVER&quot;: 0,
            &quot;PLATINUM&quot;: 0
        },
        &quot;averageScore&quot;: 0.0
    }
}
HTTP/1.1 200 
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: SAMEORIGIN
Content-Type: application/json
Transfer-Encoding: chunked
Date: Thu, 13 Mar 2025 11:12:24 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;랭킹 통계를 성공적으로 조회했습니다.&quot;,
    &quot;data&quot;: {
        &quot;rankDistribution&quot;: {
            &quot;GOLD&quot;: 0,
            &quot;BRONZE&quot;: 0,
            &quot;DIAMOND&quot;: 0,
            &quot;SILVER&quot;: 0,
            &quot;PLATINUM&quot;: 0
        },
        &quot;averageScore&quot;: 0.0
    }
}
랭킹 통계 조회 테스트 완료
2025-03-13T11:12:24.691Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 605, missCount = 6, failureCount = 1]
랭킹 API 테스트 종료: 1741864344691
2025-03-13T11:12:24.692Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 606, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.693Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 607, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.693Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 608, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.695Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 609, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.695Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 610, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.695Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 611, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.695Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 612, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.696Z DEBUG 4523 --- [stoblyx] [    Test worker] .c.s.DirtiesContextTestExecutionListener : After test method: class [RankingApiTest], method [testGetRankingStatistics], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-13T11:12:24.696Z DEBUG 4523 --- [stoblyx] [    Test worker] sContextBeforeModesTestExecutionListener : Before test method: class [RankingApiTest], method [testGetTopUsers], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-13T11:12:24.697Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 613, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.697Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 614, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.697Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 615, missCount = 6, failureCount = 1]
랭킹 API 테스트 시작: 1741864344699
2025-03-13T11:12:24.699Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 616, missCount = 6, failureCount = 1]
Request method:	GET
Request URI:	http://localhost:33241/ranking/top?limit=10
Proxy:			&lt;none&gt;
Request params:	limit=10
Query params:	&lt;none&gt;
Form params:	&lt;none&gt;
Path params:	&lt;none&gt;
Headers:		Accept=application/json, application/javascript, text/javascript, text/json
				X-TEST-ROLE=ROLE_ADMIN
				X-CSRF-TOKEN=test-csrf-token
				Authorization=Bearer test_user_token_for_testing
				X-TEST-AUTH=true
				X-TEST-ROLE=ROLE_USER
				Content-Type=application/json
Cookies:		&lt;none&gt;
Multiparts:		&lt;none&gt;
Body:			&lt;none&gt;
2025-03-13T11:12:24.709Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /ranking/top?limit=10
2025-03-13T11:12:24.711Z  INFO 4523 --- [stoblyx] [o-auto-3-exec-5] urityTestConfig$TestAuthenticationFilter : 테스트 인증 설정됨 (ADMIN) - 사용자: testadmin, ID: 2
2025-03-13T11:12:24.712Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /ranking/top?limit=10
2025-03-13T11:12:24.713Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-5] o.s.web.servlet.DispatcherServlet        : GET &quot;/ranking/top?limit=10&quot;, parameters={masked}
2025-03-13T11:12:24.713Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.j30n.stoblyx.adapter.in.web.controller.RankingController#getTopUsers(int)
2025-03-13T11:12:24.714Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-5] org.hibernate.SQL                        : 
    /* ?[34mSELECT?[0m
        r 
    ?[34mFROM?[0m
        RankingUserScore r 
    ?[34mWHERE?[0m
        r.accountSuspended = ?[34mfalse?[0m 
    ?[34mORDER?[0m ?[34mBY?[0m
        r.currentScore DESC */ ?[34mselect?[0m
            rus1_0.id,
            rus1_0.account_suspended,
            rus1_0.created_at,
            rus1_0.current_score,
            rus1_0.is_deleted,
            rus1_0.last_activity_date,
            rus1_0.modified_at,
            rus1_0.previous_score,
            rus1_0.rank_type,
            rus1_0.report_count,
            rus1_0.suspicious_activity,
            rus1_0.user_id 
        ?[34mfrom?[0m
            ranking_user_score rus1_0 
        ?[34mwhere?[0m
            rus1_0.account_suspended=?[34mfalse?[0m 
        ?[34morder?[0m ?[34mby?[0m
            rus1_0.current_score desc 
        ?[34mfetch?[0m
            first ? ?[34mrows?[0m ?[34monly?[0m
?[35m[Hibernate]?[0m 
    /* ?[34mSELECT?[0m
        r 
    ?[34mFROM?[0m
        RankingUserScore r 
    ?[34mWHERE?[0m
        r.accountSuspended = ?[34mfalse?[0m 
    ?[34mORDER?[0m ?[34mBY?[0m
        r.currentScore DESC */ ?[34mselect?[0m
            rus1_0.id,
            rus1_0.account_suspended,
            rus1_0.created_at,
            rus1_0.current_score,
            rus1_0.is_deleted,
            rus1_0.last_activity_date,
            rus1_0.modified_at,
            rus1_0.previous_score,
            rus1_0.rank_type,
            rus1_0.report_count,
            rus1_0.suspicious_activity,
            rus1_0.user_id 
        ?[34mfrom?[0m
            ranking_user_score rus1_0 
        ?[34mwhere?[0m
            rus1_0.account_suspended=?[34mfalse?[0m 
        ?[34morder?[0m ?[34mby?[0m
            rus1_0.current_score desc 
        ?[34mfetch?[0m
            first ? ?[34mrows?[0m ?[34monly?[0m
2025-03-13T11:12:24.716Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/javascript, text/javascript, text/json] and supported [application/json, application/*+json]
2025-03-13T11:12:24.716Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(result=SUCCESS, message=상위 사용자 랭킹을 성공적으로 조회했습니다., data=[])]
2025-03-13T11:12:24.717Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;상위 사용자 랭킹을 성공적으로 조회했습니다.&quot;,
    &quot;data&quot;: [
        
    ]
}
HTTP/1.1 200 
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: SAMEORIGIN
Content-Type: application/json
Transfer-Encoding: chunked
Date: Thu, 13 Mar 2025 11:12:24 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;상위 사용자 랭킹을 성공적으로 조회했습니다.&quot;,
    &quot;data&quot;: [
        
    ]
}
HTTP/1.1 200 
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: SAMEORIGIN
Content-Type: application/json
Transfer-Encoding: chunked
Date: Thu, 13 Mar 2025 11:12:24 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;상위 사용자 랭킹을 성공적으로 조회했습니다.&quot;,
    &quot;data&quot;: [
        
    ]
}
2025-03-13T11:12:24.777Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 617, missCount = 6, failureCount = 1]
랭킹 API 테스트 종료: 1741864344777
2025-03-13T11:12:24.778Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 618, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.780Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 619, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.780Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 620, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.780Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 621, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.780Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 622, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.781Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 623, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.781Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 624, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.781Z DEBUG 4523 --- [stoblyx] [    Test worker] .c.s.DirtiesContextTestExecutionListener : After test method: class [RankingApiTest], method [testGetTopUsers], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-13T11:12:24.782Z DEBUG 4523 --- [stoblyx] [    Test worker] sContextBeforeModesTestExecutionListener : Before test method: class [RankingApiTest], method [testUpdateActivityScore], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-13T11:12:24.782Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 625, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.782Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 626, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.782Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 627, missCount = 6, failureCount = 1]
랭킹 API 테스트 시작: 1741864344783
2025-03-13T11:12:24.784Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 628, missCount = 6, failureCount = 1]
Request method:	POST
Request URI:	http://localhost:33241/ranking/activity
Proxy:			&lt;none&gt;
Request params:	&lt;none&gt;
Query params:	&lt;none&gt;
Form params:	&lt;none&gt;
Path params:	&lt;none&gt;
Headers:		Accept=application/json, application/javascript, text/javascript, text/json
				X-TEST-ROLE=ROLE_ADMIN
				X-CSRF-TOKEN=test-csrf-token
				Authorization=Bearer test_user_token_for_testing
				X-TEST-AUTH=true
				X-TEST-ROLE=ROLE_USER
				Content-Type=application/json
Cookies:		&lt;none&gt;
Multiparts:		&lt;none&gt;
Body:
{
    &quot;score&quot;: 10,
    &quot;activityType&quot;: &quot;CONTENT_CREATE&quot;
}
2025-03-13T11:12:24.793Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /ranking/activity
2025-03-13T11:12:24.794Z  INFO 4523 --- [stoblyx] [o-auto-3-exec-6] urityTestConfig$TestAuthenticationFilter : 테스트 인증 설정됨 (ADMIN) - 사용자: testadmin, ID: 2
2025-03-13T11:12:24.794Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /ranking/activity
2025-03-13T11:12:24.795Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-6] o.s.web.servlet.DispatcherServlet        : POST &quot;/ranking/activity&quot;, parameters={}
2025-03-13T11:12:24.795Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.j30n.stoblyx.adapter.in.web.controller.RankingController#updateActivityScore(UserPrincipal, RankingActivityRequest)
CurrentUserArgumentTestResolver.supportsParameter 호출됨: userPrincipal = true
CurrentUserArgumentTestResolver.resolveArgument 호출됨
2025-03-13T11:12:24.797Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-6] esolvers$CurrentUserArgumentTestResolver : 파라미터 정보: userPrincipal
2025-03-13T11:12:24.797Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-6] esolvers$CurrentUserArgumentTestResolver : 파라미터 타입: com.j30n.stoblyx.infrastructure.security.UserPrincipal
2025-03-13T11:12:24.797Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-6] esolvers$CurrentUserArgumentTestResolver : Principal 타입: com.j30n.stoblyx.infrastructure.security.UserPrincipal
2025-03-13T11:12:24.797Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-6] esolvers$CurrentUserArgumentTestResolver : Principal 정보: com.j30n.stoblyx.infrastructure.security.UserPrincipal@7d63cb73
2025-03-13T11:12:24.797Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-6] esolvers$CurrentUserArgumentTestResolver : 인증 정보: [ROLE_ADMIN]
2025-03-13T11:12:24.797Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-6] esolvers$CurrentUserArgumentTestResolver : Principal이 UserPrincipal 타입입니다.
2025-03-13T11:12:24.804Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read &quot;application/json;charset=UTF-8&quot; to [RankingActivityRequest(activityType=CONTENT_CREATE, score=10)]
2025-03-13T11:12:24.808Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-6] org.hibernate.SQL                        : 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        rus1_0.id,
        rus1_0.account_suspended,
        rus1_0.created_at,
        rus1_0.current_score,
        rus1_0.is_deleted,
        rus1_0.last_activity_date,
        rus1_0.modified_at,
        rus1_0.previous_score,
        rus1_0.rank_type,
        rus1_0.report_count,
        rus1_0.suspicious_activity,
        rus1_0.user_id 
    ?[34mfrom?[0m
        ranking_user_score rus1_0 
    ?[34mwhere?[0m
        rus1_0.user_id=?
?[35m[Hibernate]?[0m 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        rus1_0.id,
        rus1_0.account_suspended,
        rus1_0.created_at,
        rus1_0.current_score,
        rus1_0.is_deleted,
        rus1_0.last_activity_date,
        rus1_0.modified_at,
        rus1_0.previous_score,
        rus1_0.rank_type,
        rus1_0.report_count,
        rus1_0.suspicious_activity,
        rus1_0.user_id 
    ?[34mfrom?[0m
        ranking_user_score rus1_0 
    ?[34mwhere?[0m
        rus1_0.user_id=?
2025-03-13T11:12:24.811Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-6] org.hibernate.SQL                        : 
    /* ?[34minsert?[0m ?[34mfor?[0m
        com.j30n.stoblyx.domain.model.RankingUserScore */?[34minsert?[0m 
    ?[34minto?[0m
        ranking_user_score (account_suspended, created_at, current_score, is_deleted, last_activity_date, modified_at, previous_score, rank_type, report_count, suspicious_activity, user_id, id) 
    ?[34mvalues?[0m
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?[34mdefault?[0m)
?[35m[Hibernate]?[0m 
    /* ?[34minsert?[0m ?[34mfor?[0m
        com.j30n.stoblyx.domain.model.RankingUserScore */?[34minsert?[0m 
    ?[34minto?[0m
        ranking_user_score (account_suspended, created_at, current_score, is_deleted, last_activity_date, modified_at, previous_score, rank_type, report_count, suspicious_activity, user_id, id) 
    ?[34mvalues?[0m
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?[34mdefault?[0m)
2025-03-13T11:12:24.814Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/javascript, text/javascript, text/json] and supported [application/json, application/*+json]
2025-03-13T11:12:24.817Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(result=SUCCESS, message=활동 점수가 성공적으로 업데이트되었습니다., data=RankingResponse(userId=2, score=10 (truncated)...]
2025-03-13T11:12:24.821Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;활동 점수가 성공적으로 업데이트되었습니다.&quot;,
    &quot;data&quot;: {
        &quot;userId&quot;: 2,
        &quot;score&quot;: 1010,
        &quot;rankType&quot;: &quot;BRONZE&quot;,
        &quot;rankDisplayName&quot;: &quot;브론즈&quot;,
        &quot;lastActivityDate&quot;: &quot;2025-03-13T11:12:24.811495848&quot;,
        &quot;suspiciousActivity&quot;: false,
        &quot;reportCount&quot;: 0,
        &quot;accountSuspended&quot;: false
    }
}
HTTP/1.1 200 
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: SAMEORIGIN
Content-Type: application/json
Transfer-Encoding: chunked
Date: Thu, 13 Mar 2025 11:12:24 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;활동 점수가 성공적으로 업데이트되었습니다.&quot;,
    &quot;data&quot;: {
        &quot;userId&quot;: 2,
        &quot;score&quot;: 1010,
        &quot;rankType&quot;: &quot;BRONZE&quot;,
        &quot;rankDisplayName&quot;: &quot;브론즈&quot;,
        &quot;lastActivityDate&quot;: &quot;2025-03-13T11:12:24.811495848&quot;,
        &quot;suspiciousActivity&quot;: false,
        &quot;reportCount&quot;: 0,
        &quot;accountSuspended&quot;: false
    }
}
활동 점수 업데이트 테스트 완료
2025-03-13T11:12:24.860Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 629, missCount = 6, failureCount = 1]
랭킹 API 테스트 종료: 1741864344860
2025-03-13T11:12:24.861Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 630, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.862Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 631, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.862Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 632, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.862Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 633, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.863Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 634, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.863Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 635, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.863Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 636, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.863Z DEBUG 4523 --- [stoblyx] [    Test worker] .c.s.DirtiesContextTestExecutionListener : After test method: class [RankingApiTest], method [testUpdateActivityScore], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-13T11:12:24.864Z DEBUG 4523 --- [stoblyx] [    Test worker] sContextBeforeModesTestExecutionListener : Before test method: class [RankingApiTest], method [testGetUserRankingWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-13T11:12:24.864Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 637, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.864Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 638, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.864Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 639, missCount = 6, failureCount = 1]
랭킹 API 테스트 시작: 1741864344866
2025-03-13T11:12:24.866Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 640, missCount = 6, failureCount = 1]
Request method:	GET
Request URI:	http://localhost:33241/users/me/ranking
Proxy:			&lt;none&gt;
Request params:	&lt;none&gt;
Query params:	&lt;none&gt;
Form params:	&lt;none&gt;
Path params:	&lt;none&gt;
Headers:		Accept=application/json, application/javascript, text/javascript, text/json
				X-TEST-ROLE=ROLE_ADMIN
				X-CSRF-TOKEN=test-csrf-token
				Content-Type=application/json
Cookies:		&lt;none&gt;
Multiparts:		&lt;none&gt;
Body:			&lt;none&gt;
2025-03-13T11:12:24.874Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /users/me/ranking
2025-03-13T11:12:24.874Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-13T11:12:24.874Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /users/me/ranking
2025-03-13T11:12:24.874Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] o.s.web.servlet.DispatcherServlet        : GET &quot;/users/me/ranking&quot;, parameters={}
2025-03-13T11:12:24.875Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.j30n.stoblyx.adapter.in.web.controller.UserController#getUserRanking(UserPrincipal)
CurrentUserArgumentTestResolver.resolveArgument 호출됨
2025-03-13T11:12:24.875Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] esolvers$CurrentUserArgumentTestResolver : 파라미터 정보: userPrincipal
2025-03-13T11:12:24.875Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] esolvers$CurrentUserArgumentTestResolver : 파라미터 타입: com.j30n.stoblyx.infrastructure.security.UserPrincipal
2025-03-13T11:12:24.875Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] esolvers$CurrentUserArgumentTestResolver : Principal 타입: java.lang.String
2025-03-13T11:12:24.875Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] esolvers$CurrentUserArgumentTestResolver : Principal 정보: anonymousUser
2025-03-13T11:12:24.875Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] esolvers$CurrentUserArgumentTestResolver : 인증 정보: [ROLE_ANONYMOUS]
2025-03-13T11:12:24.875Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] esolvers$CurrentUserArgumentTestResolver : Principal이 String 타입입니다. UserPrincipal로 변환합니다.
2025-03-13T11:12:24.875Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.j30n.stoblyx.adapter.in.web.controller.UserController.getUserRanking(com.j30n.stoblyx.infrastructure.security.UserPrincipal); target is of class [com.j30n.stoblyx.adapter.in.web.controller.UserController]
2025-03-13T11:12:24.876Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.j30n.stoblyx.adapter.in.web.controller.UserController.getUserRanking(com.j30n.stoblyx.infrastructure.security.UserPrincipal); target is of class [com.j30n.stoblyx.adapter.in.web.controller.UserController] with authorization manager org.springframework.security.authorization.ObservationAuthorizationManager@197ce7ea and decision ExpressionAuthorizationDecision [granted=false, expressionAttribute=isAuthenticated()]
2025-03-13T11:12:24.876Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.j30n.stoblyx.config.ControllerTestAdvice#handleAccessDeniedException(AccessDeniedException)
2025-03-13T11:12:24.876Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/javascript, text/javascript, text/json] and supported [application/json, application/*+json]
2025-03-13T11:12:24.876Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(result=ERROR, message=접근 권한이 없습니다., data=null)]
2025-03-13T11:12:24.877Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-03-13T11:12:24.877Z DEBUG 4523 --- [stoblyx] [o-auto-3-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 403 FORBIDDEN
{
    &quot;result&quot;: &quot;ERROR&quot;,
    &quot;message&quot;: &quot;접근 권한이 없습니다.&quot;,
    &quot;data&quot;: null
}
HTTP/1.1 403 
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: SAMEORIGIN
Content-Type: application/json
Transfer-Encoding: chunked
Date: Thu, 13 Mar 2025 11:12:24 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    &quot;result&quot;: &quot;ERROR&quot;,
    &quot;message&quot;: &quot;접근 권한이 없습니다.&quot;,
    &quot;data&quot;: null
}
인증 없이 사용자 랭킹 정보 조회 실패 테스트 완료
2025-03-13T11:12:24.880Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 641, missCount = 6, failureCount = 1]
랭킹 API 테스트 종료: 1741864344880
2025-03-13T11:12:24.880Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 642, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.882Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 643, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.882Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 644, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.882Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 645, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.883Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 646, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.883Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 647, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.883Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 648, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.883Z DEBUG 4523 --- [stoblyx] [    Test worker] .c.s.DirtiesContextTestExecutionListener : After test method: class [RankingApiTest], method [testGetUserRankingWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-13T11:12:24.924Z DEBUG 4523 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4e39e85a size = 3, maxSize = 32, parentContextCount = 0, hitCount = 649, missCount = 6, failureCount = 1]
2025-03-13T11:12:24.924Z DEBUG 4523 --- [stoblyx] [    Test worker] .c.s.DirtiesContextTestExecutionListener : After test class: class [RankingApiTest], class annotated with @DirtiesContext [false] with mode [null]
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 8.12.1</a> at Mar 13, 2025, 11:12:27 AM</p>
</div>
</div>
</body>
</html>
