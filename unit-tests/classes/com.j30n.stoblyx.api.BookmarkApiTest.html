<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - 북마크 API 통합 테스트</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>북마크 API 통합 테스트</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/com.j30n.stoblyx.api.html">com.j30n.stoblyx.api</a> &gt; BookmarkApiTest</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">8</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">0.757s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Method name</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">북마크 추가 API 테스트</td>
<td class="success">testAddBookmark()</td>
<td class="success">0.066s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">북마크 페이징 API 테스트</td>
<td class="success">testBookmarkPagination()</td>
<td class="success">0.134s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">북마크 일괄 삭제 API 테스트</td>
<td class="success">testBulkDeleteBookmarks()</td>
<td class="success">0.078s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">북마크 상태 확인 API 테스트</td>
<td class="success">testCheckBookmarkStatus()</td>
<td class="success">0.084s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">북마크 필터링 및 정렬 API 테스트</td>
<td class="success">testFilterAndSortBookmarks()</td>
<td class="success">0.095s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">북마크 목록 조회 API 테스트</td>
<td class="success">testGetBookmarks()</td>
<td class="success">0.201s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">인증 없이 북마크 목록 조회 시 실패 테스트</td>
<td class="success">testGetBookmarksWithoutAuth()</td>
<td class="success">0.027s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">북마크 삭제 API 테스트</td>
<td class="success">testRemoveBookmark()</td>
<td class="success">0.072s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>2025-03-10T08:00:11.602Z DEBUG 4506 --- [stoblyx] [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [BookmarkApiTest]: using SpringBootContextLoader
2025-03-10T08:00:11.603Z DEBUG 4506 --- [stoblyx] [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.j30n.stoblyx.api.BookmarkApiTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2025-03-10T08:00:11.603Z  INFO 4506 --- [stoblyx] [    Test worker] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.j30n.stoblyx.api.BookmarkApiTest]: BookmarkApiTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-03-10T08:00:11.604Z DEBUG 4506 --- [stoblyx] [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using ContextCustomizerFactory implementations for test class [BookmarkApiTest]: [OnFailureConditionReportContextCustomizerFactory, OverrideAutoConfigurationContextCustomizerFactory, ObservabilityContextCustomizerFactory, TypeExcludeFiltersContextCustomizerFactory, PropertyMappingContextCustomizerFactory, WebDriverContextCustomizerFactory, ImportsContextCustomizerFactory, ExcludeFilterContextCustomizerFactory, HttpGraphQlTesterContextCustomizerFactory, DuplicateJsonObjectContextCustomizerFactory, MockitoContextCustomizerFactory, TestRestTemplateContextCustomizerFactory, WebTestClientContextCustomizerFactory, DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory, MockServerContainerContextCustomizerFactory, DynamicPropertiesContextCustomizerFactory]
2025-03-10T08:00:11.606Z DEBUG 4506 --- [stoblyx] [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using ContextCustomizers for test class [BookmarkApiTest]: [OnFailureConditionReportContextCustomizer, DisableObservabilityContextCustomizer, PropertyMappingContextCustomizer, WebDriverContextCustomizer, ImportsContextCustomizer, ExcludeFilterContextCustomizer, DuplicateJsonObjectContextCustomizer, MockitoContextCustomizer, TestRestTemplateContextCustomizer, DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer]
2025-03-10T08:00:11.607Z  INFO 4506 --- [stoblyx] [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.j30n.stoblyx.StoblyxApplication for test class com.j30n.stoblyx.api.BookmarkApiTest
2025-03-10T08:00:11.608Z DEBUG 4506 --- [stoblyx] [    Test worker] .s.t.c.u.TestContextSpringFactoriesUtils : Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2025-03-10T08:00:11.609Z DEBUG 4506 --- [stoblyx] [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners for test class [BookmarkApiTest]: [ServletTestExecutionListener, DirtiesContextBeforeModesTestExecutionListener, ApplicationEventsTestExecutionListener, MockitoTestExecutionListener, DependencyInjectionTestExecutionListener, DirtiesContextTestExecutionListener, TransactionalTestExecutionListener, SqlScriptsTestExecutionListener, WithSecurityContextTestExecutionListener, EventPublishingTestExecutionListener, ReactorContextTestExecutionListener, RestDocsTestExecutionListener, MockRestServiceServerResetTestExecutionListener, MockMvcPrintOnlyOnFailureTestExecutionListener, WebDriverTestExecutionListener, MockWebServiceServerTestExecutionListener, ResetMocksTestExecutionListener]
2025-03-10T08:00:11.609Z DEBUG 4506 --- [stoblyx] [    Test worker] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.j30n.stoblyx.api.BookmarkApiTest
2025-03-10T08:00:11.610Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 76, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.611Z DEBUG 4506 --- [stoblyx] [    Test worker] o.s.c.e.PropertySourcesPropertyResolver  : Found key 'local.server.port' in PropertySource 'environmentProperties' with value of type String
2025-03-10T08:00:11.611Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 77, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.612Z DEBUG 4506 --- [stoblyx] [    Test worker] sContextBeforeModesTestExecutionListener : Before test class: class [BookmarkApiTest], class annotated with @DirtiesContext [false] with mode [null]
2025-03-10T08:00:11.612Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 78, missCount = 1, failureCount = 0]
테스트 환경용 더미 토큰 초기화 완료: test_user_token_for_testing
2025-03-10T08:00:11.615Z DEBUG 4506 --- [stoblyx] [    Test worker] sContextBeforeModesTestExecutionListener : Before test method: class [BookmarkApiTest], method [testGetBookmarks], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-10T08:00:11.616Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 79, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.616Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 80, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.616Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 81, missCount = 1, failureCount = 0]
테스트 시작: 1741593611619
2025-03-10T08:00:11.620Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 82, missCount = 1, failureCount = 0]
Request method:	GET
Request URI:	http://localhost:34383/bookmarks
Proxy:			&lt;none&gt;
Request params:	&lt;none&gt;
Query params:	&lt;none&gt;
Form params:	&lt;none&gt;
Path params:	&lt;none&gt;
Headers:		Accept=application/json, application/javascript, text/javascript, text/json
				X-CSRF-TOKEN=test-csrf-token
				Authorization=Bearer test_user_token_for_testing
				X-TEST-AUTH=true
				X-TEST-ROLE=ROLE_USER
				Content-Type=application/json
Cookies:		&lt;none&gt;
Multiparts:		&lt;none&gt;
Body:			&lt;none&gt;
2025-03-10T08:00:11.635Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /bookmarks
테스트 인증 설정됨: test_user
2025-03-10T08:00:11.636Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /bookmarks
2025-03-10T08:00:11.637Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] o.s.web.servlet.DispatcherServlet        : GET &quot;/bookmarks&quot;, parameters={}
2025-03-10T08:00:11.638Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.j30n.stoblyx.adapter.in.web.controller.BookmarkController#getBookmarks(UserPrincipal, String, Pageable)
2025-03-10T08:00:11.638Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
CurrentUserArgumentTestResolver.supportsParameter 호출됨: user = false
CurrentUserArgumentTestResolver.supportsParameter 호출됨: pageable = false
2025-03-10T08:00:11.639Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.j30n.stoblyx.adapter.in.web.controller.BookmarkController.getBookmarks(com.j30n.stoblyx.infrastructure.security.UserPrincipal,java.lang.String,org.springframework.data.domain.Pageable); target is of class [com.j30n.stoblyx.adapter.in.web.controller.BookmarkController]
2025-03-10T08:00:11.640Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.j30n.stoblyx.adapter.in.web.controller.BookmarkController.getBookmarks(com.j30n.stoblyx.infrastructure.security.UserPrincipal,java.lang.String,org.springframework.data.domain.Pageable); target is of class [com.j30n.stoblyx.adapter.in.web.controller.BookmarkController]
2025-03-10T08:00:11.640Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(754661653&lt;open&gt;)] for JPA transaction
2025-03-10T08:00:11.640Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.j30n.stoblyx.application.service.bookmark.BookmarkService.getBookmarks]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-03-10T08:00:11.640Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@1291871852 wrapping conn0: url=jdbc:h2:mem:testdb user=SA] read-only
2025-03-10T08:00:11.641Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@28b5615f]
2025-03-10T08:00:11.642Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(754661653&lt;open&gt;)] for JPA transaction
2025-03-10T08:00:11.642Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-03-10T08:00:11.651Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] org.hibernate.SQL                        : 
    ?[34mselect?[0m
        u1_0.id,
        u1_0.accountStatus,
        a1_0.id,
        a1_0.created_at,
        a1_0.expiryDate,
        a1_0.is_deleted,
        a1_0.lastUsedAt,
        a1_0.modified_at,
        a1_0.refreshToken,
        a1_0.tokenType,
        a1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_deleted,
        u1_0.lastLoginAt,
        u1_0.modified_at,
        u1_0.nickname,
        u1_0.password,
        u1_0.profileImageUrl,
        u1_0.role,
        ui1_0.id,
        ui1_0.created_at,
        ui1_0.is_deleted,
        ui1_0.modified_at,
        u1_0.username 
    ?[34mfrom?[0m
        users u1_0 
    ?[34mleft?[0m ?[34mjoin?[0m
        auth a1_0 
            ?[34mon?[0m u1_0.id=a1_0.user_id 
    ?[34mleft?[0m ?[34mjoin?[0m
        user_interests ui1_0 
            ?[34mon?[0m u1_0.id=ui1_0.user_id 
    ?[34mwhere?[0m
        u1_0.id=?
?[35m[Hibernate]?[0m 
    ?[34mselect?[0m
        u1_0.id,
        u1_0.accountStatus,
        a1_0.id,
        a1_0.created_at,
        a1_0.expiryDate,
        a1_0.is_deleted,
        a1_0.lastUsedAt,
        a1_0.modified_at,
        a1_0.refreshToken,
        a1_0.tokenType,
        a1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_deleted,
        u1_0.lastLoginAt,
        u1_0.modified_at,
        u1_0.nickname,
        u1_0.password,
        u1_0.profileImageUrl,
        u1_0.role,
        ui1_0.id,
        ui1_0.created_at,
        ui1_0.is_deleted,
        ui1_0.modified_at,
        u1_0.username 
    ?[34mfrom?[0m
        users u1_0 
    ?[34mleft?[0m ?[34mjoin?[0m
        auth a1_0 
            ?[34mon?[0m u1_0.id=a1_0.user_id 
    ?[34mleft?[0m ?[34mjoin?[0m
        user_interests ui1_0 
            ?[34mon?[0m u1_0.id=ui1_0.user_id 
    ?[34mwhere?[0m
        u1_0.id=?
2025-03-10T08:00:11.674Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] org.hibernate.SQL                        : 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        cb1_0.id,
        cb1_0.content_id,
        cb1_0.created_at,
        cb1_0.user_id 
    ?[34mfrom?[0m
        content_bookmarks cb1_0 
    ?[34mwhere?[0m
        cb1_0.user_id=? 
    ?[34mfetch?[0m
        first ? ?[34mrows?[0m ?[34monly?[0m
?[35m[Hibernate]?[0m 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        cb1_0.id,
        cb1_0.content_id,
        cb1_0.created_at,
        cb1_0.user_id 
    ?[34mfrom?[0m
        content_bookmarks cb1_0 
    ?[34mwhere?[0m
        cb1_0.user_id=? 
    ?[34mfetch?[0m
        first ? ?[34mrows?[0m ?[34monly?[0m
2025-03-10T08:00:11.691Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] org.hibernate.SQL                        : 
    ?[34mselect?[0m
        sfc1_0.id,
        sfc1_0.audioUrl,
        sfc1_0.book_id,
        sfc1_0.commentCount,
        sfc1_0.contentType,
        sfc1_0.created_at,
        sfc1_0.deleted,
        sfc1_0.description,
        sfc1_0.duration,
        sfc1_0.is_deleted,
        sfc1_0.likeCount,
        sfc1_0.modified_at,
        sfc1_0.quote_id,
        sfc1_0.shareCount,
        sfc1_0.status,
        sfc1_0.subtitles,
        sfc1_0.thumbnailUrl,
        sfc1_0.title,
        sfc1_0.videoUrl,
        sfc1_0.viewCount 
    ?[34mfrom?[0m
        SHORT_FORM_CONTENTS sfc1_0 
    ?[34mwhere?[0m
        sfc1_0.id=?
?[35m[Hibernate]?[0m 
    ?[34mselect?[0m
        sfc1_0.id,
        sfc1_0.audioUrl,
        sfc1_0.book_id,
        sfc1_0.commentCount,
        sfc1_0.contentType,
        sfc1_0.created_at,
        sfc1_0.deleted,
        sfc1_0.description,
        sfc1_0.duration,
        sfc1_0.is_deleted,
        sfc1_0.likeCount,
        sfc1_0.modified_at,
        sfc1_0.quote_id,
        sfc1_0.shareCount,
        sfc1_0.status,
        sfc1_0.subtitles,
        sfc1_0.thumbnailUrl,
        sfc1_0.title,
        sfc1_0.videoUrl,
        sfc1_0.viewCount 
    ?[34mfrom?[0m
        SHORT_FORM_CONTENTS sfc1_0 
    ?[34mwhere?[0m
        sfc1_0.id=?
2025-03-10T08:00:11.697Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] org.hibernate.SQL                        : 
    ?[34mselect?[0m
        sfc1_0.id,
        sfc1_0.audioUrl,
        sfc1_0.book_id,
        sfc1_0.commentCount,
        sfc1_0.contentType,
        sfc1_0.created_at,
        sfc1_0.deleted,
        sfc1_0.description,
        sfc1_0.duration,
        sfc1_0.is_deleted,
        sfc1_0.likeCount,
        sfc1_0.modified_at,
        sfc1_0.quote_id,
        sfc1_0.shareCount,
        sfc1_0.status,
        sfc1_0.subtitles,
        sfc1_0.thumbnailUrl,
        sfc1_0.title,
        sfc1_0.videoUrl,
        sfc1_0.viewCount 
    ?[34mfrom?[0m
        SHORT_FORM_CONTENTS sfc1_0 
    ?[34mwhere?[0m
        sfc1_0.id=?
?[35m[Hibernate]?[0m 
    ?[34mselect?[0m
        sfc1_0.id,
        sfc1_0.audioUrl,
        sfc1_0.book_id,
        sfc1_0.commentCount,
        sfc1_0.contentType,
        sfc1_0.created_at,
        sfc1_0.deleted,
        sfc1_0.description,
        sfc1_0.duration,
        sfc1_0.is_deleted,
        sfc1_0.likeCount,
        sfc1_0.modified_at,
        sfc1_0.quote_id,
        sfc1_0.shareCount,
        sfc1_0.status,
        sfc1_0.subtitles,
        sfc1_0.thumbnailUrl,
        sfc1_0.title,
        sfc1_0.videoUrl,
        sfc1_0.viewCount 
    ?[34mfrom?[0m
        SHORT_FORM_CONTENTS sfc1_0 
    ?[34mwhere?[0m
        sfc1_0.id=?
2025-03-10T08:00:11.701Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-03-10T08:00:11.701Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(754661653&lt;open&gt;)]
2025-03-10T08:00:11.701Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@1291871852 wrapping conn0: url=jdbc:h2:mem:testdb user=SA]
2025-03-10T08:00:11.701Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2025-03-10T08:00:11.702Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/javascript, text/javascript, text/json] and supported [application/json, application/*+json]
2025-03-10T08:00:11.703Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(result=SUCCESS, message=북마크 목록입니다., data=Page 1 of 1 containing com.j30n.stoblyx.adapter (truncated)...]
2025-03-10T08:00:11.719Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-03-10T08:00:11.721Z DEBUG 4506 --- [stoblyx] [-auto-1-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;북마크 목록입니다.&quot;,
    &quot;data&quot;: {
        &quot;content&quot;: [
            {
                &quot;id&quot;: 1,
                &quot;contentId&quot;: 1,
                &quot;title&quot;: &quot;철학적 사색&quot;,
                &quot;description&quot;: &quot;철학에 관한 숏폼 콘텐츠입니다.&quot;,
                &quot;thumbnailUrl&quot;: &quot;https://example.com/thumb1.jpg&quot;,
                &quot;createdAt&quot;: &quot;2025-03-10T08:00:08.020415&quot;
            },
            {
                &quot;id&quot;: 2,
                &quot;contentId&quot;: 2,
                &quot;title&quot;: &quot;소설 이야기&quot;,
                &quot;description&quot;: &quot;소설에 관한 숏폼 콘텐츠입니다.&quot;,
                &quot;thumbnailUrl&quot;: &quot;https://example.com/thumb2.jpg&quot;,
                &quot;createdAt&quot;: &quot;2025-03-10T08:00:08.020415&quot;
            }
        ],
        &quot;pageable&quot;: {
            &quot;pageNumber&quot;: 0,
            &quot;pageSize&quot;: 20,
            &quot;sort&quot;: {
                &quot;empty&quot;: true,
                &quot;sorted&quot;: false,
                &quot;unsorted&quot;: true
            },
            &quot;offset&quot;: 0,
            &quot;paged&quot;: true,
            &quot;unpaged&quot;: false
        },
        &quot;last&quot;: true,
        &quot;totalElements&quot;: 2,
        &quot;totalPages&quot;: 1,
        &quot;first&quot;: true,
        &quot;size&quot;: 20,
        &quot;number&quot;: 0,
        &quot;sort&quot;: {
            &quot;empty&quot;: true,
            &quot;sorted&quot;: false,
            &quot;unsorted&quot;: true
        },
        &quot;numberOfElements&quot;: 2,
        &quot;empty&quot;: false
    }
}
HTTP/1.1 200 
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: SAMEORIGIN
Content-Type: application/json
Transfer-Encoding: chunked
Date: Mon, 10 Mar 2025 08:00:11 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;북마크 목록입니다.&quot;,
    &quot;data&quot;: {
        &quot;content&quot;: [
            {
                &quot;id&quot;: 1,
                &quot;contentId&quot;: 1,
                &quot;title&quot;: &quot;철학적 사색&quot;,
                &quot;description&quot;: &quot;철학에 관한 숏폼 콘텐츠입니다.&quot;,
                &quot;thumbnailUrl&quot;: &quot;https://example.com/thumb1.jpg&quot;,
                &quot;createdAt&quot;: &quot;2025-03-10T08:00:08.020415&quot;
            },
            {
                &quot;id&quot;: 2,
                &quot;contentId&quot;: 2,
                &quot;title&quot;: &quot;소설 이야기&quot;,
                &quot;description&quot;: &quot;소설에 관한 숏폼 콘텐츠입니다.&quot;,
                &quot;thumbnailUrl&quot;: &quot;https://example.com/thumb2.jpg&quot;,
                &quot;createdAt&quot;: &quot;2025-03-10T08:00:08.020415&quot;
            }
        ],
        &quot;pageable&quot;: {
            &quot;pageNumber&quot;: 0,
            &quot;pageSize&quot;: 20,
            &quot;sort&quot;: {
                &quot;empty&quot;: true,
                &quot;sorted&quot;: false,
                &quot;unsorted&quot;: true
            },
            &quot;offset&quot;: 0,
            &quot;paged&quot;: true,
            &quot;unpaged&quot;: false
        },
        &quot;last&quot;: true,
        &quot;totalElements&quot;: 2,
        &quot;totalPages&quot;: 1,
        &quot;first&quot;: true,
        &quot;size&quot;: 20,
        &quot;number&quot;: 0,
        &quot;sort&quot;: {
            &quot;empty&quot;: true,
            &quot;sorted&quot;: false,
            &quot;unsorted&quot;: true
        },
        &quot;numberOfElements&quot;: 2,
        &quot;empty&quot;: false
    }
}
북마크 목록 조회 테스트 완료
2025-03-10T08:00:11.802Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 83, missCount = 1, failureCount = 0]
테스트 종료: 1741593611803
2025-03-10T08:00:11.808Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 84, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.811Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 85, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.811Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 86, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.811Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 87, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.815Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 88, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.816Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 89, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.816Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 90, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.816Z DEBUG 4506 --- [stoblyx] [    Test worker] .c.s.DirtiesContextTestExecutionListener : After test method: class [BookmarkApiTest], method [testGetBookmarks], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-10T08:00:11.817Z DEBUG 4506 --- [stoblyx] [    Test worker] sContextBeforeModesTestExecutionListener : Before test method: class [BookmarkApiTest], method [testRemoveBookmark], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-10T08:00:11.818Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 91, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.818Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 92, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.818Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 93, missCount = 1, failureCount = 0]
테스트 시작: 1741593611830
2025-03-10T08:00:11.831Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 94, missCount = 1, failureCount = 0]
Request method:	DELETE
Request URI:	http://localhost:34383/contents/1/bookmark
Proxy:			&lt;none&gt;
Request params:	&lt;none&gt;
Query params:	&lt;none&gt;
Form params:	&lt;none&gt;
Path params:	&lt;none&gt;
Headers:		Accept=application/json, application/javascript, text/javascript, text/json
				X-CSRF-TOKEN=test-csrf-token
				Authorization=Bearer test_user_token_for_testing
				X-TEST-AUTH=true
				X-TEST-ROLE=ROLE_USER
				Content-Type=application/json
Cookies:		&lt;none&gt;
Multiparts:		&lt;none&gt;
Body:			&lt;none&gt;
2025-03-10T08:00:11.869Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-1] o.s.security.web.FilterChainProxy        : Securing DELETE /contents/1/bookmark
테스트 인증 설정됨: test_user
2025-03-10T08:00:11.871Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-1] o.s.security.web.FilterChainProxy        : Secured DELETE /contents/1/bookmark
2025-03-10T08:00:11.871Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : DELETE &quot;/contents/1/bookmark&quot;, parameters={}
2025-03-10T08:00:11.872Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.j30n.stoblyx.config.ControllerTestAdvice#handleException(Exception)
2025-03-10T08:00:11.876Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/javascript, text/javascript, text/json] and supported [application/json, application/*+json]
2025-03-10T08:00:11.876Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(result=ERROR, message=서버 내부 오류가 발생했습니다., data=null)]
2025-03-10T08:00:11.877Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported]
2025-03-10T08:00:11.877Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
{
    &quot;result&quot;: &quot;ERROR&quot;,
    &quot;message&quot;: &quot;서버 내부 오류가 발생했습니다.&quot;,
    &quot;data&quot;: null
}
HTTP/1.1 500 
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: SAMEORIGIN
Content-Type: application/json
Transfer-Encoding: chunked
Date: Mon, 10 Mar 2025 08:00:11 GMT
Connection: close

{
    &quot;result&quot;: &quot;ERROR&quot;,
    &quot;message&quot;: &quot;서버 내부 오류가 발생했습니다.&quot;,
    &quot;data&quot;: null
}
북마크 삭제 테스트 완료
2025-03-10T08:00:11.883Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 95, missCount = 1, failureCount = 0]
테스트 종료: 1741593611884
2025-03-10T08:00:11.884Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 96, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.887Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 97, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.887Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 98, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.887Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 99, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.888Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 100, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.888Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 101, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.888Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 102, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.889Z DEBUG 4506 --- [stoblyx] [    Test worker] .c.s.DirtiesContextTestExecutionListener : After test method: class [BookmarkApiTest], method [testRemoveBookmark], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-10T08:00:11.890Z DEBUG 4506 --- [stoblyx] [    Test worker] sContextBeforeModesTestExecutionListener : Before test method: class [BookmarkApiTest], method [testFilterAndSortBookmarks], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-10T08:00:11.891Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 103, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.891Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 104, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.891Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 105, missCount = 1, failureCount = 0]
테스트 시작: 1741593611893
2025-03-10T08:00:11.894Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 106, missCount = 1, failureCount = 0]
Request method:	GET
Request URI:	http://localhost:34383/bookmarks?sort=createdAt%2Cdesc&amp;type=BOOK
Proxy:			&lt;none&gt;
Request params:	sort=createdAt,desc
				type=BOOK
Query params:	&lt;none&gt;
Form params:	&lt;none&gt;
Path params:	&lt;none&gt;
Headers:		Accept=application/json, application/javascript, text/javascript, text/json
				X-CSRF-TOKEN=test-csrf-token
				Authorization=Bearer test_user_token_for_testing
				X-TEST-AUTH=true
				X-TEST-ROLE=ROLE_USER
				Content-Type=application/json
Cookies:		&lt;none&gt;
Multiparts:		&lt;none&gt;
Body:			&lt;none&gt;
2025-03-10T08:00:11.922Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /bookmarks?sort=createdAt%2Cdesc&amp;type=BOOK
테스트 인증 설정됨: test_user
2025-03-10T08:00:11.924Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /bookmarks?sort=createdAt%2Cdesc&amp;type=BOOK
2025-03-10T08:00:11.924Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] o.s.web.servlet.DispatcherServlet        : GET &quot;/bookmarks?sort=createdAt%2Cdesc&amp;type=BOOK&quot;, parameters={masked}
2025-03-10T08:00:11.925Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.j30n.stoblyx.adapter.in.web.controller.BookmarkController#getBookmarks(UserPrincipal, String, Pageable)
2025-03-10T08:00:11.925Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-03-10T08:00:11.928Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.j30n.stoblyx.adapter.in.web.controller.BookmarkController.getBookmarks(com.j30n.stoblyx.infrastructure.security.UserPrincipal,java.lang.String,org.springframework.data.domain.Pageable); target is of class [com.j30n.stoblyx.adapter.in.web.controller.BookmarkController]
2025-03-10T08:00:11.928Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.j30n.stoblyx.adapter.in.web.controller.BookmarkController.getBookmarks(com.j30n.stoblyx.infrastructure.security.UserPrincipal,java.lang.String,org.springframework.data.domain.Pageable); target is of class [com.j30n.stoblyx.adapter.in.web.controller.BookmarkController]
2025-03-10T08:00:11.928Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(897847340&lt;open&gt;)] for JPA transaction
2025-03-10T08:00:11.928Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.j30n.stoblyx.application.service.bookmark.BookmarkService.getBookmarks]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-03-10T08:00:11.929Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@740507599 wrapping conn0: url=jdbc:h2:mem:testdb user=SA] read-only
2025-03-10T08:00:11.929Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@32c44748]
2025-03-10T08:00:11.929Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(897847340&lt;open&gt;)] for JPA transaction
2025-03-10T08:00:11.929Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-03-10T08:00:11.930Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] org.hibernate.SQL                        : 
    ?[34mselect?[0m
        u1_0.id,
        u1_0.accountStatus,
        a1_0.id,
        a1_0.created_at,
        a1_0.expiryDate,
        a1_0.is_deleted,
        a1_0.lastUsedAt,
        a1_0.modified_at,
        a1_0.refreshToken,
        a1_0.tokenType,
        a1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_deleted,
        u1_0.lastLoginAt,
        u1_0.modified_at,
        u1_0.nickname,
        u1_0.password,
        u1_0.profileImageUrl,
        u1_0.role,
        ui1_0.id,
        ui1_0.created_at,
        ui1_0.is_deleted,
        ui1_0.modified_at,
        u1_0.username 
    ?[34mfrom?[0m
        users u1_0 
    ?[34mleft?[0m ?[34mjoin?[0m
        auth a1_0 
            ?[34mon?[0m u1_0.id=a1_0.user_id 
    ?[34mleft?[0m ?[34mjoin?[0m
        user_interests ui1_0 
            ?[34mon?[0m u1_0.id=ui1_0.user_id 
    ?[34mwhere?[0m
        u1_0.id=?
?[35m[Hibernate]?[0m 
    ?[34mselect?[0m
        u1_0.id,
        u1_0.accountStatus,
        a1_0.id,
        a1_0.created_at,
        a1_0.expiryDate,
        a1_0.is_deleted,
        a1_0.lastUsedAt,
        a1_0.modified_at,
        a1_0.refreshToken,
        a1_0.tokenType,
        a1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_deleted,
        u1_0.lastLoginAt,
        u1_0.modified_at,
        u1_0.nickname,
        u1_0.password,
        u1_0.profileImageUrl,
        u1_0.role,
        ui1_0.id,
        ui1_0.created_at,
        ui1_0.is_deleted,
        ui1_0.modified_at,
        u1_0.username 
    ?[34mfrom?[0m
        users u1_0 
    ?[34mleft?[0m ?[34mjoin?[0m
        auth a1_0 
            ?[34mon?[0m u1_0.id=a1_0.user_id 
    ?[34mleft?[0m ?[34mjoin?[0m
        user_interests ui1_0 
            ?[34mon?[0m u1_0.id=ui1_0.user_id 
    ?[34mwhere?[0m
        u1_0.id=?
2025-03-10T08:00:11.935Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] org.hibernate.SQL                        : 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        cb1_0.id,
        cb1_0.content_id,
        cb1_0.created_at,
        cb1_0.user_id 
    ?[34mfrom?[0m
        content_bookmarks cb1_0 
    ?[34mwhere?[0m
        cb1_0.user_id=? 
    ?[34morder?[0m ?[34mby?[0m
        cb1_0.created_at desc 
    ?[34mfetch?[0m
        first ? ?[34mrows?[0m ?[34monly?[0m
?[35m[Hibernate]?[0m 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        cb1_0.id,
        cb1_0.content_id,
        cb1_0.created_at,
        cb1_0.user_id 
    ?[34mfrom?[0m
        content_bookmarks cb1_0 
    ?[34mwhere?[0m
        cb1_0.user_id=? 
    ?[34morder?[0m ?[34mby?[0m
        cb1_0.created_at desc 
    ?[34mfetch?[0m
        first ? ?[34mrows?[0m ?[34monly?[0m
2025-03-10T08:00:11.937Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] org.hibernate.SQL                        : 
    ?[34mselect?[0m
        sfc1_0.id,
        sfc1_0.audioUrl,
        sfc1_0.book_id,
        sfc1_0.commentCount,
        sfc1_0.contentType,
        sfc1_0.created_at,
        sfc1_0.deleted,
        sfc1_0.description,
        sfc1_0.duration,
        sfc1_0.is_deleted,
        sfc1_0.likeCount,
        sfc1_0.modified_at,
        sfc1_0.quote_id,
        sfc1_0.shareCount,
        sfc1_0.status,
        sfc1_0.subtitles,
        sfc1_0.thumbnailUrl,
        sfc1_0.title,
        sfc1_0.videoUrl,
        sfc1_0.viewCount 
    ?[34mfrom?[0m
        SHORT_FORM_CONTENTS sfc1_0 
    ?[34mwhere?[0m
        sfc1_0.id=?
?[35m[Hibernate]?[0m 
    ?[34mselect?[0m
        sfc1_0.id,
        sfc1_0.audioUrl,
        sfc1_0.book_id,
        sfc1_0.commentCount,
        sfc1_0.contentType,
        sfc1_0.created_at,
        sfc1_0.deleted,
        sfc1_0.description,
        sfc1_0.duration,
        sfc1_0.is_deleted,
        sfc1_0.likeCount,
        sfc1_0.modified_at,
        sfc1_0.quote_id,
        sfc1_0.shareCount,
        sfc1_0.status,
        sfc1_0.subtitles,
        sfc1_0.thumbnailUrl,
        sfc1_0.title,
        sfc1_0.videoUrl,
        sfc1_0.viewCount 
    ?[34mfrom?[0m
        SHORT_FORM_CONTENTS sfc1_0 
    ?[34mwhere?[0m
        sfc1_0.id=?
2025-03-10T08:00:11.939Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] org.hibernate.SQL                        : 
    ?[34mselect?[0m
        sfc1_0.id,
        sfc1_0.audioUrl,
        sfc1_0.book_id,
        sfc1_0.commentCount,
        sfc1_0.contentType,
        sfc1_0.created_at,
        sfc1_0.deleted,
        sfc1_0.description,
        sfc1_0.duration,
        sfc1_0.is_deleted,
        sfc1_0.likeCount,
        sfc1_0.modified_at,
        sfc1_0.quote_id,
        sfc1_0.shareCount,
        sfc1_0.status,
        sfc1_0.subtitles,
        sfc1_0.thumbnailUrl,
        sfc1_0.title,
        sfc1_0.videoUrl,
        sfc1_0.viewCount 
    ?[34mfrom?[0m
        SHORT_FORM_CONTENTS sfc1_0 
    ?[34mwhere?[0m
        sfc1_0.id=?
?[35m[Hibernate]?[0m 
    ?[34mselect?[0m
        sfc1_0.id,
        sfc1_0.audioUrl,
        sfc1_0.book_id,
        sfc1_0.commentCount,
        sfc1_0.contentType,
        sfc1_0.created_at,
        sfc1_0.deleted,
        sfc1_0.description,
        sfc1_0.duration,
        sfc1_0.is_deleted,
        sfc1_0.likeCount,
        sfc1_0.modified_at,
        sfc1_0.quote_id,
        sfc1_0.shareCount,
        sfc1_0.status,
        sfc1_0.subtitles,
        sfc1_0.thumbnailUrl,
        sfc1_0.title,
        sfc1_0.videoUrl,
        sfc1_0.viewCount 
    ?[34mfrom?[0m
        SHORT_FORM_CONTENTS sfc1_0 
    ?[34mwhere?[0m
        sfc1_0.id=?
2025-03-10T08:00:11.941Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-03-10T08:00:11.941Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(897847340&lt;open&gt;)]
2025-03-10T08:00:11.941Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@740507599 wrapping conn0: url=jdbc:h2:mem:testdb user=SA]
2025-03-10T08:00:11.941Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2025-03-10T08:00:11.942Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/javascript, text/javascript, text/json] and supported [application/json, application/*+json]
2025-03-10T08:00:11.942Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(result=SUCCESS, message=북마크 목록입니다., data=Page 1 of 1 containing com.j30n.stoblyx.adapter (truncated)...]
2025-03-10T08:00:11.944Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-03-10T08:00:11.944Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;북마크 목록입니다.&quot;,
    &quot;data&quot;: {
        &quot;content&quot;: [
            {
                &quot;id&quot;: 1,
                &quot;contentId&quot;: 1,
                &quot;title&quot;: &quot;철학적 사색&quot;,
                &quot;description&quot;: &quot;철학에 관한 숏폼 콘텐츠입니다.&quot;,
                &quot;thumbnailUrl&quot;: &quot;https://example.com/thumb1.jpg&quot;,
                &quot;createdAt&quot;: &quot;2025-03-10T08:00:08.020415&quot;
            },
            {
                &quot;id&quot;: 2,
                &quot;contentId&quot;: 2,
                &quot;title&quot;: &quot;소설 이야기&quot;,
                &quot;description&quot;: &quot;소설에 관한 숏폼 콘텐츠입니다.&quot;,
                &quot;thumbnailUrl&quot;: &quot;https://example.com/thumb2.jpg&quot;,
                &quot;createdAt&quot;: &quot;2025-03-10T08:00:08.020415&quot;
            }
        ],
        &quot;pageable&quot;: {
            &quot;pageNumber&quot;: 0,
            &quot;pageSize&quot;: 20,
            &quot;sort&quot;: {
                &quot;empty&quot;: false,
                &quot;sorted&quot;: true,
                &quot;unsorted&quot;: false
            },
            &quot;offset&quot;: 0,
            &quot;paged&quot;: true,
            &quot;unpaged&quot;: false
        },
        &quot;last&quot;: true,
        &quot;totalElements&quot;: 2,
        &quot;totalPages&quot;: 1,
        &quot;first&quot;: true,
        &quot;size&quot;: 20,
        &quot;number&quot;: 0,
        &quot;sort&quot;: {
            &quot;empty&quot;: false,
            &quot;sorted&quot;: true,
            &quot;unsorted&quot;: false
        },
        &quot;numberOfElements&quot;: 2,
        &quot;empty&quot;: false
    }
}
HTTP/1.1 200 
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: SAMEORIGIN
Content-Type: application/json
Transfer-Encoding: chunked
Date: Mon, 10 Mar 2025 08:00:11 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;북마크 목록입니다.&quot;,
    &quot;data&quot;: {
        &quot;content&quot;: [
            {
                &quot;id&quot;: 1,
                &quot;contentId&quot;: 1,
                &quot;title&quot;: &quot;철학적 사색&quot;,
                &quot;description&quot;: &quot;철학에 관한 숏폼 콘텐츠입니다.&quot;,
                &quot;thumbnailUrl&quot;: &quot;https://example.com/thumb1.jpg&quot;,
                &quot;createdAt&quot;: &quot;2025-03-10T08:00:08.020415&quot;
            },
            {
                &quot;id&quot;: 2,
                &quot;contentId&quot;: 2,
                &quot;title&quot;: &quot;소설 이야기&quot;,
                &quot;description&quot;: &quot;소설에 관한 숏폼 콘텐츠입니다.&quot;,
                &quot;thumbnailUrl&quot;: &quot;https://example.com/thumb2.jpg&quot;,
                &quot;createdAt&quot;: &quot;2025-03-10T08:00:08.020415&quot;
            }
        ],
        &quot;pageable&quot;: {
            &quot;pageNumber&quot;: 0,
            &quot;pageSize&quot;: 20,
            &quot;sort&quot;: {
                &quot;empty&quot;: false,
                &quot;sorted&quot;: true,
                &quot;unsorted&quot;: false
            },
            &quot;offset&quot;: 0,
            &quot;paged&quot;: true,
            &quot;unpaged&quot;: false
        },
        &quot;last&quot;: true,
        &quot;totalElements&quot;: 2,
        &quot;totalPages&quot;: 1,
        &quot;first&quot;: true,
        &quot;size&quot;: 20,
        &quot;number&quot;: 0,
        &quot;sort&quot;: {
            &quot;empty&quot;: false,
            &quot;sorted&quot;: true,
            &quot;unsorted&quot;: false
        },
        &quot;numberOfElements&quot;: 2,
        &quot;empty&quot;: false
    }
}
북마크 필터링 및 정렬 테스트 완료
2025-03-10T08:00:11.978Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 107, missCount = 1, failureCount = 0]
테스트 종료: 1741593611978
2025-03-10T08:00:11.979Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 108, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.982Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 109, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.982Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 110, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.982Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 111, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.983Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 112, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.983Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 113, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.984Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 114, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.984Z DEBUG 4506 --- [stoblyx] [    Test worker] .c.s.DirtiesContextTestExecutionListener : After test method: class [BookmarkApiTest], method [testFilterAndSortBookmarks], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-10T08:00:11.987Z DEBUG 4506 --- [stoblyx] [    Test worker] sContextBeforeModesTestExecutionListener : Before test method: class [BookmarkApiTest], method [testBulkDeleteBookmarks], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-10T08:00:11.988Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 115, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.988Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 116, missCount = 1, failureCount = 0]
2025-03-10T08:00:11.988Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 117, missCount = 1, failureCount = 0]
테스트 시작: 1741593611993
2025-03-10T08:00:11.993Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 118, missCount = 1, failureCount = 0]
Request method:	POST
Request URI:	http://localhost:34383/bookmarks/bulk-delete
Proxy:			&lt;none&gt;
Request params:	&lt;none&gt;
Query params:	&lt;none&gt;
Form params:	&lt;none&gt;
Path params:	&lt;none&gt;
Headers:		Accept=application/json, application/javascript, text/javascript, text/json
				X-CSRF-TOKEN=test-csrf-token
				Authorization=Bearer test_user_token_for_testing
				X-TEST-AUTH=true
				X-TEST-ROLE=ROLE_USER
				Content-Type=application/json
Cookies:		&lt;none&gt;
Multiparts:		&lt;none&gt;
Body:
{
    &quot;contentIds&quot;: [
        1
    ]
}
2025-03-10T08:00:12.019Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /bookmarks/bulk-delete
테스트 인증 설정됨: test_user
2025-03-10T08:00:12.020Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /bookmarks/bulk-delete
2025-03-10T08:00:12.021Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] o.s.web.servlet.DispatcherServlet        : POST &quot;/bookmarks/bulk-delete&quot;, parameters={}
2025-03-10T08:00:12.021Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.j30n.stoblyx.adapter.in.web.controller.BookmarkController#bulkDeleteBookmarks(UserPrincipal, BulkDeleteRequest)
2025-03-10T08:00:12.021Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
CurrentUserArgumentTestResolver.supportsParameter 호출됨: user = false
2025-03-10T08:00:12.026Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read &quot;application/json;charset=UTF-8&quot; to [BulkDeleteRequest[contentIds=[1]]]
2025-03-10T08:00:12.027Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.j30n.stoblyx.adapter.in.web.controller.BookmarkController.bulkDeleteBookmarks(com.j30n.stoblyx.infrastructure.security.UserPrincipal,com.j30n.stoblyx.adapter.in.web.dto.bookmark.BulkDeleteRequest); target is of class [com.j30n.stoblyx.adapter.in.web.controller.BookmarkController]
2025-03-10T08:00:12.028Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.j30n.stoblyx.adapter.in.web.controller.BookmarkController.bulkDeleteBookmarks(com.j30n.stoblyx.infrastructure.security.UserPrincipal,com.j30n.stoblyx.adapter.in.web.dto.bookmark.BulkDeleteRequest); target is of class [com.j30n.stoblyx.adapter.in.web.controller.BookmarkController]
2025-03-10T08:00:12.028Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1007824529&lt;open&gt;)] for JPA transaction
2025-03-10T08:00:12.028Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.j30n.stoblyx.application.service.bookmark.BookmarkService.deleteBookmarks]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-03-10T08:00:12.028Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@548fa5bf]
2025-03-10T08:00:12.029Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1007824529&lt;open&gt;)] for JPA transaction
2025-03-10T08:00:12.029Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-03-10T08:00:12.029Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] org.hibernate.SQL                        : 
    ?[34mselect?[0m
        u1_0.id,
        u1_0.accountStatus,
        a1_0.id,
        a1_0.created_at,
        a1_0.expiryDate,
        a1_0.is_deleted,
        a1_0.lastUsedAt,
        a1_0.modified_at,
        a1_0.refreshToken,
        a1_0.tokenType,
        a1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_deleted,
        u1_0.lastLoginAt,
        u1_0.modified_at,
        u1_0.nickname,
        u1_0.password,
        u1_0.profileImageUrl,
        u1_0.role,
        ui1_0.id,
        ui1_0.created_at,
        ui1_0.is_deleted,
        ui1_0.modified_at,
        u1_0.username 
    ?[34mfrom?[0m
        users u1_0 
    ?[34mleft?[0m ?[34mjoin?[0m
        auth a1_0 
            ?[34mon?[0m u1_0.id=a1_0.user_id 
    ?[34mleft?[0m ?[34mjoin?[0m
        user_interests ui1_0 
            ?[34mon?[0m u1_0.id=ui1_0.user_id 
    ?[34mwhere?[0m
        u1_0.id=?
?[35m[Hibernate]?[0m 
    ?[34mselect?[0m
        u1_0.id,
        u1_0.accountStatus,
        a1_0.id,
        a1_0.created_at,
        a1_0.expiryDate,
        a1_0.is_deleted,
        a1_0.lastUsedAt,
        a1_0.modified_at,
        a1_0.refreshToken,
        a1_0.tokenType,
        a1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_deleted,
        u1_0.lastLoginAt,
        u1_0.modified_at,
        u1_0.nickname,
        u1_0.password,
        u1_0.profileImageUrl,
        u1_0.role,
        ui1_0.id,
        ui1_0.created_at,
        ui1_0.is_deleted,
        ui1_0.modified_at,
        u1_0.username 
    ?[34mfrom?[0m
        users u1_0 
    ?[34mleft?[0m ?[34mjoin?[0m
        auth a1_0 
            ?[34mon?[0m u1_0.id=a1_0.user_id 
    ?[34mleft?[0m ?[34mjoin?[0m
        user_interests ui1_0 
            ?[34mon?[0m u1_0.id=ui1_0.user_id 
    ?[34mwhere?[0m
        u1_0.id=?
2025-03-10T08:00:12.037Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] org.hibernate.SQL                        : 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        cb1_0.id,
        cb1_0.content_id,
        cb1_0.created_at,
        cb1_0.user_id 
    ?[34mfrom?[0m
        content_bookmarks cb1_0 
    ?[34mwhere?[0m
        cb1_0.user_id=? 
        ?[34mand?[0m cb1_0.content_id=?
?[35m[Hibernate]?[0m 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        cb1_0.id,
        cb1_0.content_id,
        cb1_0.created_at,
        cb1_0.user_id 
    ?[34mfrom?[0m
        content_bookmarks cb1_0 
    ?[34mwhere?[0m
        cb1_0.user_id=? 
        ?[34mand?[0m cb1_0.content_id=?
2025-03-10T08:00:12.042Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-03-10T08:00:12.042Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1007824529&lt;open&gt;)]
2025-03-10T08:00:12.046Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] org.hibernate.SQL                        : 
    /* ?[34mdelete?[0m ?[34mfor?[0m com.j30n.stoblyx.domain.model.ContentBookmark */?[34mdelete?[0m 
    ?[34mfrom?[0m
        content_bookmarks 
    ?[34mwhere?[0m
        id=?
?[35m[Hibernate]?[0m 
    /* ?[34mdelete?[0m ?[34mfor?[0m com.j30n.stoblyx.domain.model.ContentBookmark */?[34mdelete?[0m 
    ?[34mfrom?[0m
        content_bookmarks 
    ?[34mwhere?[0m
        id=?
2025-03-10T08:00:12.049Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2025-03-10T08:00:12.050Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/javascript, text/javascript, text/json] and supported [application/json, application/*+json]
2025-03-10T08:00:12.050Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(result=SUCCESS, message=북마크가 삭제되었습니다., data=null)]
2025-03-10T08:00:12.054Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-03-10T08:00:12.054Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;북마크가 삭제되었습니다.&quot;,
    &quot;data&quot;: null
}
HTTP/1.1 200 
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: SAMEORIGIN
Content-Type: application/json
Transfer-Encoding: chunked
Date: Mon, 10 Mar 2025 08:00:12 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;북마크가 삭제되었습니다.&quot;,
    &quot;data&quot;: null
}
북마크 일괄 삭제 테스트 완료
2025-03-10T08:00:12.059Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 119, missCount = 1, failureCount = 0]
테스트 종료: 1741593612059
2025-03-10T08:00:12.060Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 120, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.061Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 121, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.062Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 122, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.062Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 123, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.063Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 124, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.063Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 125, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.063Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 126, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.064Z DEBUG 4506 --- [stoblyx] [    Test worker] .c.s.DirtiesContextTestExecutionListener : After test method: class [BookmarkApiTest], method [testBulkDeleteBookmarks], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-10T08:00:12.065Z DEBUG 4506 --- [stoblyx] [    Test worker] sContextBeforeModesTestExecutionListener : Before test method: class [BookmarkApiTest], method [testCheckBookmarkStatus], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-10T08:00:12.065Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 127, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.066Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 128, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.066Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 129, missCount = 1, failureCount = 0]
테스트 시작: 1741593612068
2025-03-10T08:00:12.068Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 130, missCount = 1, failureCount = 0]
Request method:	GET
Request URI:	http://localhost:34383/contents/1/bookmark/status
Proxy:			&lt;none&gt;
Request params:	&lt;none&gt;
Query params:	&lt;none&gt;
Form params:	&lt;none&gt;
Path params:	&lt;none&gt;
Headers:		Accept=application/json, application/javascript, text/javascript, text/json
				X-CSRF-TOKEN=test-csrf-token
				Authorization=Bearer test_user_token_for_testing
				X-TEST-AUTH=true
				X-TEST-ROLE=ROLE_USER
				Content-Type=application/json
Cookies:		&lt;none&gt;
Multiparts:		&lt;none&gt;
Body:			&lt;none&gt;
2025-03-10T08:00:12.085Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /contents/1/bookmark/status
테스트 인증 설정됨: test_user
2025-03-10T08:00:12.086Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /contents/1/bookmark/status
2025-03-10T08:00:12.086Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-7] o.s.web.servlet.DispatcherServlet        : GET &quot;/contents/1/bookmark/status&quot;, parameters={}
2025-03-10T08:00:12.087Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.j30n.stoblyx.adapter.in.web.controller.ContentController#checkBookmarkStatus(Long, UserPrincipal)
2025-03-10T08:00:12.087Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-7] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
CurrentUserArgumentTestResolver.supportsParameter 호출됨: user = false
2025-03-10T08:00:12.088Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(433200855&lt;open&gt;)] for JPA transaction
2025-03-10T08:00:12.088Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.j30n.stoblyx.application.service.bookmark.BookmarkService.checkBookmarkStatus]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-03-10T08:00:12.088Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-7] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@1728896847 wrapping conn0: url=jdbc:h2:mem:testdb user=SA] read-only
2025-03-10T08:00:12.088Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@489f0ecd]
2025-03-10T08:00:12.090Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-7] org.hibernate.SQL                        : 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        cb1_0.id 
    ?[34mfrom?[0m
        content_bookmarks cb1_0 
    ?[34mwhere?[0m
        cb1_0.user_id=? 
        ?[34mand?[0m cb1_0.content_id=? 
    ?[34mfetch?[0m
        first ? ?[34mrows?[0m ?[34monly?[0m
?[35m[Hibernate]?[0m 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        cb1_0.id 
    ?[34mfrom?[0m
        content_bookmarks cb1_0 
    ?[34mwhere?[0m
        cb1_0.user_id=? 
        ?[34mand?[0m cb1_0.content_id=? 
    ?[34mfetch?[0m
        first ? ?[34mrows?[0m ?[34monly?[0m
2025-03-10T08:00:12.092Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-03-10T08:00:12.092Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(433200855&lt;open&gt;)]
2025-03-10T08:00:12.092Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-7] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@1728896847 wrapping conn0: url=jdbc:h2:mem:testdb user=SA]
2025-03-10T08:00:12.092Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2025-03-10T08:00:12.094Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/javascript, text/javascript, text/json] and supported [application/json, application/*+json]
2025-03-10T08:00:12.095Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(result=SUCCESS, message=북마크 상태입니다., data=BookmarkStatusResponse[isBookmarked=false])]
2025-03-10T08:00:12.101Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-7] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-03-10T08:00:12.102Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;북마크 상태입니다.&quot;,
    &quot;data&quot;: {
        &quot;isBookmarked&quot;: false
    }
}
HTTP/1.1 200 
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: SAMEORIGIN
Content-Type: application/json
Transfer-Encoding: chunked
Date: Mon, 10 Mar 2025 08:00:12 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;북마크 상태입니다.&quot;,
    &quot;data&quot;: {
        &quot;isBookmarked&quot;: false
    }
}
북마크 상태 확인 테스트 완료
2025-03-10T08:00:12.143Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 131, missCount = 1, failureCount = 0]
테스트 종료: 1741593612143
2025-03-10T08:00:12.144Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 132, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.146Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 133, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.147Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 134, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.147Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 135, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.148Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 136, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.148Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 137, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.148Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 138, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.148Z DEBUG 4506 --- [stoblyx] [    Test worker] .c.s.DirtiesContextTestExecutionListener : After test method: class [BookmarkApiTest], method [testCheckBookmarkStatus], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-10T08:00:12.149Z DEBUG 4506 --- [stoblyx] [    Test worker] sContextBeforeModesTestExecutionListener : Before test method: class [BookmarkApiTest], method [testAddBookmark], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-10T08:00:12.150Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 139, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.150Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 140, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.150Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 141, missCount = 1, failureCount = 0]
테스트 시작: 1741593612152
2025-03-10T08:00:12.153Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 142, missCount = 1, failureCount = 0]
Request method:	POST
Request URI:	http://localhost:34383/contents/1/bookmark
Proxy:			&lt;none&gt;
Request params:	&lt;none&gt;
Query params:	&lt;none&gt;
Form params:	&lt;none&gt;
Path params:	&lt;none&gt;
Headers:		Accept=application/json, application/javascript, text/javascript, text/json
				X-CSRF-TOKEN=test-csrf-token
				Authorization=Bearer test_user_token_for_testing
				X-TEST-AUTH=true
				X-TEST-ROLE=ROLE_USER
				Content-Type=application/json
Cookies:		&lt;none&gt;
Multiparts:		&lt;none&gt;
Body:			&lt;none&gt;
2025-03-10T08:00:12.167Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /contents/1/bookmark
테스트 인증 설정됨: test_user
2025-03-10T08:00:12.168Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /contents/1/bookmark
2025-03-10T08:00:12.168Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] o.s.web.servlet.DispatcherServlet        : POST &quot;/contents/1/bookmark&quot;, parameters={}
2025-03-10T08:00:12.169Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.j30n.stoblyx.adapter.in.web.controller.ContentController#toggleBookmark(Long, UserPrincipal)
2025-03-10T08:00:12.169Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
CurrentUserArgumentTestResolver.supportsParameter 호출됨: user = false
2025-03-10T08:00:12.170Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1757176273&lt;open&gt;)] for JPA transaction
2025-03-10T08:00:12.170Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.j30n.stoblyx.application.service.content.ContentService.toggleBookmark]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-03-10T08:00:12.171Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1fcda76e]
2025-03-10T08:00:12.175Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] org.hibernate.SQL                        : 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        sfc1_0.id,
        sfc1_0.audioUrl,
        sfc1_0.book_id,
        sfc1_0.commentCount,
        sfc1_0.contentType,
        sfc1_0.created_at,
        sfc1_0.deleted,
        sfc1_0.description,
        sfc1_0.duration,
        sfc1_0.is_deleted,
        sfc1_0.likeCount,
        sfc1_0.modified_at,
        sfc1_0.quote_id,
        sfc1_0.shareCount,
        sfc1_0.status,
        sfc1_0.subtitles,
        sfc1_0.thumbnailUrl,
        sfc1_0.title,
        sfc1_0.videoUrl,
        sfc1_0.viewCount 
    ?[34mfrom?[0m
        SHORT_FORM_CONTENTS sfc1_0 
    ?[34mwhere?[0m
        sfc1_0.id=? 
        ?[34mand?[0m ?[34mnot?[0m(sfc1_0.deleted)
?[35m[Hibernate]?[0m 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        sfc1_0.id,
        sfc1_0.audioUrl,
        sfc1_0.book_id,
        sfc1_0.commentCount,
        sfc1_0.contentType,
        sfc1_0.created_at,
        sfc1_0.deleted,
        sfc1_0.description,
        sfc1_0.duration,
        sfc1_0.is_deleted,
        sfc1_0.likeCount,
        sfc1_0.modified_at,
        sfc1_0.quote_id,
        sfc1_0.shareCount,
        sfc1_0.status,
        sfc1_0.subtitles,
        sfc1_0.thumbnailUrl,
        sfc1_0.title,
        sfc1_0.videoUrl,
        sfc1_0.viewCount 
    ?[34mfrom?[0m
        SHORT_FORM_CONTENTS sfc1_0 
    ?[34mwhere?[0m
        sfc1_0.id=? 
        ?[34mand?[0m ?[34mnot?[0m(sfc1_0.deleted)
2025-03-10T08:00:12.183Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] org.hibernate.SQL                        : 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        cb1_0.id 
    ?[34mfrom?[0m
        content_bookmarks cb1_0 
    ?[34mwhere?[0m
        cb1_0.user_id=? 
        ?[34mand?[0m cb1_0.content_id=? 
    ?[34mfetch?[0m
        first ? ?[34mrows?[0m ?[34monly?[0m
?[35m[Hibernate]?[0m 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        cb1_0.id 
    ?[34mfrom?[0m
        content_bookmarks cb1_0 
    ?[34mwhere?[0m
        cb1_0.user_id=? 
        ?[34mand?[0m cb1_0.content_id=? 
    ?[34mfetch?[0m
        first ? ?[34mrows?[0m ?[34monly?[0m
2025-03-10T08:00:12.184Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1757176273&lt;open&gt;)] for JPA transaction
2025-03-10T08:00:12.184Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-03-10T08:00:12.185Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] org.hibernate.SQL                        : 
    ?[34mselect?[0m
        u1_0.id,
        u1_0.accountStatus,
        a1_0.id,
        a1_0.created_at,
        a1_0.expiryDate,
        a1_0.is_deleted,
        a1_0.lastUsedAt,
        a1_0.modified_at,
        a1_0.refreshToken,
        a1_0.tokenType,
        a1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_deleted,
        u1_0.lastLoginAt,
        u1_0.modified_at,
        u1_0.nickname,
        u1_0.password,
        u1_0.profileImageUrl,
        u1_0.role,
        ui1_0.id,
        ui1_0.created_at,
        ui1_0.is_deleted,
        ui1_0.modified_at,
        u1_0.username 
    ?[34mfrom?[0m
        users u1_0 
    ?[34mleft?[0m ?[34mjoin?[0m
        auth a1_0 
            ?[34mon?[0m u1_0.id=a1_0.user_id 
    ?[34mleft?[0m ?[34mjoin?[0m
        user_interests ui1_0 
            ?[34mon?[0m u1_0.id=ui1_0.user_id 
    ?[34mwhere?[0m
        u1_0.id=?
?[35m[Hibernate]?[0m 
    ?[34mselect?[0m
        u1_0.id,
        u1_0.accountStatus,
        a1_0.id,
        a1_0.created_at,
        a1_0.expiryDate,
        a1_0.is_deleted,
        a1_0.lastUsedAt,
        a1_0.modified_at,
        a1_0.refreshToken,
        a1_0.tokenType,
        a1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_deleted,
        u1_0.lastLoginAt,
        u1_0.modified_at,
        u1_0.nickname,
        u1_0.password,
        u1_0.profileImageUrl,
        u1_0.role,
        ui1_0.id,
        ui1_0.created_at,
        ui1_0.is_deleted,
        ui1_0.modified_at,
        u1_0.username 
    ?[34mfrom?[0m
        users u1_0 
    ?[34mleft?[0m ?[34mjoin?[0m
        auth a1_0 
            ?[34mon?[0m u1_0.id=a1_0.user_id 
    ?[34mleft?[0m ?[34mjoin?[0m
        user_interests ui1_0 
            ?[34mon?[0m u1_0.id=ui1_0.user_id 
    ?[34mwhere?[0m
        u1_0.id=?
2025-03-10T08:00:12.189Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1757176273&lt;open&gt;)] for JPA transaction
2025-03-10T08:00:12.192Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-03-10T08:00:12.193Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] org.hibernate.SQL                        : 
    /* ?[34minsert?[0m ?[34mfor?[0m
        com.j30n.stoblyx.domain.model.ContentBookmark */?[34minsert?[0m 
    ?[34minto?[0m
        content_bookmarks (content_id, created_at, user_id, id) 
    ?[34mvalues?[0m
        (?, ?, ?, ?[34mdefault?[0m)
?[35m[Hibernate]?[0m 
    /* ?[34minsert?[0m ?[34mfor?[0m
        com.j30n.stoblyx.domain.model.ContentBookmark */?[34minsert?[0m 
    ?[34minto?[0m
        content_bookmarks (content_id, created_at, user_id, id) 
    ?[34mvalues?[0m
        (?, ?, ?, ?[34mdefault?[0m)
2025-03-10T08:00:12.195Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-03-10T08:00:12.195Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1757176273&lt;open&gt;)]
2025-03-10T08:00:12.196Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2025-03-10T08:00:12.197Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/javascript, text/javascript, text/json] and supported [application/json, application/*+json]
2025-03-10T08:00:12.197Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(result=SUCCESS, message=북마크를 토글했습니다., data=null)]
2025-03-10T08:00:12.202Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-03-10T08:00:12.203Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;북마크를 토글했습니다.&quot;,
    &quot;data&quot;: null
}
HTTP/1.1 200 
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: SAMEORIGIN
Content-Type: application/json
Transfer-Encoding: chunked
Date: Mon, 10 Mar 2025 08:00:12 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;북마크를 토글했습니다.&quot;,
    &quot;data&quot;: null
}
북마크 추가 테스트 완료
2025-03-10T08:00:12.208Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 143, missCount = 1, failureCount = 0]
테스트 종료: 1741593612209
2025-03-10T08:00:12.209Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 144, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.212Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 145, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.212Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 146, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.213Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 147, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.214Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 148, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.214Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 149, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.215Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 150, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.215Z DEBUG 4506 --- [stoblyx] [    Test worker] .c.s.DirtiesContextTestExecutionListener : After test method: class [BookmarkApiTest], method [testAddBookmark], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-10T08:00:12.216Z DEBUG 4506 --- [stoblyx] [    Test worker] sContextBeforeModesTestExecutionListener : Before test method: class [BookmarkApiTest], method [testBookmarkPagination], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-10T08:00:12.217Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 151, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.217Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 152, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.217Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 153, missCount = 1, failureCount = 0]
테스트 시작: 1741593612221
2025-03-10T08:00:12.222Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 154, missCount = 1, failureCount = 0]
Request method:	GET
Request URI:	http://localhost:34383/bookmarks?page=0&amp;size=10
Proxy:			&lt;none&gt;
Request params:	page=0
				size=10
Query params:	&lt;none&gt;
Form params:	&lt;none&gt;
Path params:	&lt;none&gt;
Headers:		Accept=application/json, application/javascript, text/javascript, text/json
				X-CSRF-TOKEN=test-csrf-token
				Authorization=Bearer test_user_token_for_testing
				X-TEST-AUTH=true
				X-TEST-ROLE=ROLE_USER
				Content-Type=application/json
Cookies:		&lt;none&gt;
Multiparts:		&lt;none&gt;
Body:			&lt;none&gt;
2025-03-10T08:00:12.242Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /bookmarks?page=0&amp;size=10
테스트 인증 설정됨: test_user
2025-03-10T08:00:12.243Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /bookmarks?page=0&amp;size=10
2025-03-10T08:00:12.243Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] o.s.web.servlet.DispatcherServlet        : GET &quot;/bookmarks?page=0&amp;size=10&quot;, parameters={masked}
2025-03-10T08:00:12.248Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.j30n.stoblyx.adapter.in.web.controller.BookmarkController#getBookmarks(UserPrincipal, String, Pageable)
2025-03-10T08:00:12.249Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-03-10T08:00:12.250Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.j30n.stoblyx.adapter.in.web.controller.BookmarkController.getBookmarks(com.j30n.stoblyx.infrastructure.security.UserPrincipal,java.lang.String,org.springframework.data.domain.Pageable); target is of class [com.j30n.stoblyx.adapter.in.web.controller.BookmarkController]
2025-03-10T08:00:12.250Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.j30n.stoblyx.adapter.in.web.controller.BookmarkController.getBookmarks(com.j30n.stoblyx.infrastructure.security.UserPrincipal,java.lang.String,org.springframework.data.domain.Pageable); target is of class [com.j30n.stoblyx.adapter.in.web.controller.BookmarkController]
2025-03-10T08:00:12.250Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(704496548&lt;open&gt;)] for JPA transaction
2025-03-10T08:00:12.250Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.j30n.stoblyx.application.service.bookmark.BookmarkService.getBookmarks]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-03-10T08:00:12.250Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@1832010689 wrapping conn0: url=jdbc:h2:mem:testdb user=SA] read-only
2025-03-10T08:00:12.251Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1f11a752]
2025-03-10T08:00:12.251Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(704496548&lt;open&gt;)] for JPA transaction
2025-03-10T08:00:12.251Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-03-10T08:00:12.255Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] org.hibernate.SQL                        : 
    ?[34mselect?[0m
        u1_0.id,
        u1_0.accountStatus,
        a1_0.id,
        a1_0.created_at,
        a1_0.expiryDate,
        a1_0.is_deleted,
        a1_0.lastUsedAt,
        a1_0.modified_at,
        a1_0.refreshToken,
        a1_0.tokenType,
        a1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_deleted,
        u1_0.lastLoginAt,
        u1_0.modified_at,
        u1_0.nickname,
        u1_0.password,
        u1_0.profileImageUrl,
        u1_0.role,
        ui1_0.id,
        ui1_0.created_at,
        ui1_0.is_deleted,
        ui1_0.modified_at,
        u1_0.username 
    ?[34mfrom?[0m
        users u1_0 
    ?[34mleft?[0m ?[34mjoin?[0m
        auth a1_0 
            ?[34mon?[0m u1_0.id=a1_0.user_id 
    ?[34mleft?[0m ?[34mjoin?[0m
        user_interests ui1_0 
            ?[34mon?[0m u1_0.id=ui1_0.user_id 
    ?[34mwhere?[0m
        u1_0.id=?
?[35m[Hibernate]?[0m 
    ?[34mselect?[0m
        u1_0.id,
        u1_0.accountStatus,
        a1_0.id,
        a1_0.created_at,
        a1_0.expiryDate,
        a1_0.is_deleted,
        a1_0.lastUsedAt,
        a1_0.modified_at,
        a1_0.refreshToken,
        a1_0.tokenType,
        a1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.is_deleted,
        u1_0.lastLoginAt,
        u1_0.modified_at,
        u1_0.nickname,
        u1_0.password,
        u1_0.profileImageUrl,
        u1_0.role,
        ui1_0.id,
        ui1_0.created_at,
        ui1_0.is_deleted,
        ui1_0.modified_at,
        u1_0.username 
    ?[34mfrom?[0m
        users u1_0 
    ?[34mleft?[0m ?[34mjoin?[0m
        auth a1_0 
            ?[34mon?[0m u1_0.id=a1_0.user_id 
    ?[34mleft?[0m ?[34mjoin?[0m
        user_interests ui1_0 
            ?[34mon?[0m u1_0.id=ui1_0.user_id 
    ?[34mwhere?[0m
        u1_0.id=?
2025-03-10T08:00:12.262Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] org.hibernate.SQL                        : 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        cb1_0.id,
        cb1_0.content_id,
        cb1_0.created_at,
        cb1_0.user_id 
    ?[34mfrom?[0m
        content_bookmarks cb1_0 
    ?[34mwhere?[0m
        cb1_0.user_id=? 
    ?[34mfetch?[0m
        first ? ?[34mrows?[0m ?[34monly?[0m
?[35m[Hibernate]?[0m 
    /* &lt;criteria&gt; */ ?[34mselect?[0m
        cb1_0.id,
        cb1_0.content_id,
        cb1_0.created_at,
        cb1_0.user_id 
    ?[34mfrom?[0m
        content_bookmarks cb1_0 
    ?[34mwhere?[0m
        cb1_0.user_id=? 
    ?[34mfetch?[0m
        first ? ?[34mrows?[0m ?[34monly?[0m
2025-03-10T08:00:12.264Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] org.hibernate.SQL                        : 
    ?[34mselect?[0m
        sfc1_0.id,
        sfc1_0.audioUrl,
        sfc1_0.book_id,
        sfc1_0.commentCount,
        sfc1_0.contentType,
        sfc1_0.created_at,
        sfc1_0.deleted,
        sfc1_0.description,
        sfc1_0.duration,
        sfc1_0.is_deleted,
        sfc1_0.likeCount,
        sfc1_0.modified_at,
        sfc1_0.quote_id,
        sfc1_0.shareCount,
        sfc1_0.status,
        sfc1_0.subtitles,
        sfc1_0.thumbnailUrl,
        sfc1_0.title,
        sfc1_0.videoUrl,
        sfc1_0.viewCount 
    ?[34mfrom?[0m
        SHORT_FORM_CONTENTS sfc1_0 
    ?[34mwhere?[0m
        sfc1_0.id=?
?[35m[Hibernate]?[0m 
    ?[34mselect?[0m
        sfc1_0.id,
        sfc1_0.audioUrl,
        sfc1_0.book_id,
        sfc1_0.commentCount,
        sfc1_0.contentType,
        sfc1_0.created_at,
        sfc1_0.deleted,
        sfc1_0.description,
        sfc1_0.duration,
        sfc1_0.is_deleted,
        sfc1_0.likeCount,
        sfc1_0.modified_at,
        sfc1_0.quote_id,
        sfc1_0.shareCount,
        sfc1_0.status,
        sfc1_0.subtitles,
        sfc1_0.thumbnailUrl,
        sfc1_0.title,
        sfc1_0.videoUrl,
        sfc1_0.viewCount 
    ?[34mfrom?[0m
        SHORT_FORM_CONTENTS sfc1_0 
    ?[34mwhere?[0m
        sfc1_0.id=?
2025-03-10T08:00:12.270Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] org.hibernate.SQL                        : 
    ?[34mselect?[0m
        sfc1_0.id,
        sfc1_0.audioUrl,
        sfc1_0.book_id,
        sfc1_0.commentCount,
        sfc1_0.contentType,
        sfc1_0.created_at,
        sfc1_0.deleted,
        sfc1_0.description,
        sfc1_0.duration,
        sfc1_0.is_deleted,
        sfc1_0.likeCount,
        sfc1_0.modified_at,
        sfc1_0.quote_id,
        sfc1_0.shareCount,
        sfc1_0.status,
        sfc1_0.subtitles,
        sfc1_0.thumbnailUrl,
        sfc1_0.title,
        sfc1_0.videoUrl,
        sfc1_0.viewCount 
    ?[34mfrom?[0m
        SHORT_FORM_CONTENTS sfc1_0 
    ?[34mwhere?[0m
        sfc1_0.id=?
?[35m[Hibernate]?[0m 
    ?[34mselect?[0m
        sfc1_0.id,
        sfc1_0.audioUrl,
        sfc1_0.book_id,
        sfc1_0.commentCount,
        sfc1_0.contentType,
        sfc1_0.created_at,
        sfc1_0.deleted,
        sfc1_0.description,
        sfc1_0.duration,
        sfc1_0.is_deleted,
        sfc1_0.likeCount,
        sfc1_0.modified_at,
        sfc1_0.quote_id,
        sfc1_0.shareCount,
        sfc1_0.status,
        sfc1_0.subtitles,
        sfc1_0.thumbnailUrl,
        sfc1_0.title,
        sfc1_0.videoUrl,
        sfc1_0.viewCount 
    ?[34mfrom?[0m
        SHORT_FORM_CONTENTS sfc1_0 
    ?[34mwhere?[0m
        sfc1_0.id=?
2025-03-10T08:00:12.270Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-03-10T08:00:12.270Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(704496548&lt;open&gt;)]
2025-03-10T08:00:12.271Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@1832010689 wrapping conn0: url=jdbc:h2:mem:testdb user=SA]
2025-03-10T08:00:12.271Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2025-03-10T08:00:12.275Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/javascript, text/javascript, text/json] and supported [application/json, application/*+json]
2025-03-10T08:00:12.276Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(result=SUCCESS, message=북마크 목록입니다., data=Page 1 of 1 containing com.j30n.stoblyx.adapter (truncated)...]
2025-03-10T08:00:12.277Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-03-10T08:00:12.277Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;북마크 목록입니다.&quot;,
    &quot;data&quot;: {
        &quot;content&quot;: [
            {
                &quot;id&quot;: 2,
                &quot;contentId&quot;: 2,
                &quot;title&quot;: &quot;소설 이야기&quot;,
                &quot;description&quot;: &quot;소설에 관한 숏폼 콘텐츠입니다.&quot;,
                &quot;thumbnailUrl&quot;: &quot;https://example.com/thumb2.jpg&quot;,
                &quot;createdAt&quot;: &quot;2025-03-10T08:00:08.020415&quot;
            },
            {
                &quot;id&quot;: 4,
                &quot;contentId&quot;: 1,
                &quot;title&quot;: &quot;철학적 사색&quot;,
                &quot;description&quot;: &quot;철학에 관한 숏폼 콘텐츠입니다.&quot;,
                &quot;thumbnailUrl&quot;: &quot;https://example.com/thumb1.jpg&quot;,
                &quot;createdAt&quot;: &quot;2025-03-10T08:00:12.19329&quot;
            }
        ],
        &quot;pageable&quot;: {
            &quot;pageNumber&quot;: 0,
            &quot;pageSize&quot;: 10,
            &quot;sort&quot;: {
                &quot;empty&quot;: true,
                &quot;sorted&quot;: false,
                &quot;unsorted&quot;: true
            },
            &quot;offset&quot;: 0,
            &quot;paged&quot;: true,
            &quot;unpaged&quot;: false
        },
        &quot;last&quot;: true,
        &quot;totalElements&quot;: 2,
        &quot;totalPages&quot;: 1,
        &quot;first&quot;: true,
        &quot;size&quot;: 10,
        &quot;number&quot;: 0,
        &quot;sort&quot;: {
            &quot;empty&quot;: true,
            &quot;sorted&quot;: false,
            &quot;unsorted&quot;: true
        },
        &quot;numberOfElements&quot;: 2,
        &quot;empty&quot;: false
    }
}
HTTP/1.1 200 
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: SAMEORIGIN
Content-Type: application/json
Transfer-Encoding: chunked
Date: Mon, 10 Mar 2025 08:00:12 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    &quot;result&quot;: &quot;SUCCESS&quot;,
    &quot;message&quot;: &quot;북마크 목록입니다.&quot;,
    &quot;data&quot;: {
        &quot;content&quot;: [
            {
                &quot;id&quot;: 2,
                &quot;contentId&quot;: 2,
                &quot;title&quot;: &quot;소설 이야기&quot;,
                &quot;description&quot;: &quot;소설에 관한 숏폼 콘텐츠입니다.&quot;,
                &quot;thumbnailUrl&quot;: &quot;https://example.com/thumb2.jpg&quot;,
                &quot;createdAt&quot;: &quot;2025-03-10T08:00:08.020415&quot;
            },
            {
                &quot;id&quot;: 4,
                &quot;contentId&quot;: 1,
                &quot;title&quot;: &quot;철학적 사색&quot;,
                &quot;description&quot;: &quot;철학에 관한 숏폼 콘텐츠입니다.&quot;,
                &quot;thumbnailUrl&quot;: &quot;https://example.com/thumb1.jpg&quot;,
                &quot;createdAt&quot;: &quot;2025-03-10T08:00:12.19329&quot;
            }
        ],
        &quot;pageable&quot;: {
            &quot;pageNumber&quot;: 0,
            &quot;pageSize&quot;: 10,
            &quot;sort&quot;: {
                &quot;empty&quot;: true,
                &quot;sorted&quot;: false,
                &quot;unsorted&quot;: true
            },
            &quot;offset&quot;: 0,
            &quot;paged&quot;: true,
            &quot;unpaged&quot;: false
        },
        &quot;last&quot;: true,
        &quot;totalElements&quot;: 2,
        &quot;totalPages&quot;: 1,
        &quot;first&quot;: true,
        &quot;size&quot;: 10,
        &quot;number&quot;: 0,
        &quot;sort&quot;: {
            &quot;empty&quot;: true,
            &quot;sorted&quot;: false,
            &quot;unsorted&quot;: true
        },
        &quot;numberOfElements&quot;: 2,
        &quot;empty&quot;: false
    }
}
북마크 페이징 테스트 완료
2025-03-10T08:00:12.346Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 155, missCount = 1, failureCount = 0]
테스트 종료: 1741593612346
2025-03-10T08:00:12.346Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 156, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.348Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 157, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.348Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 158, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.349Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 159, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.349Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 160, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.350Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 161, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.350Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 162, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.350Z DEBUG 4506 --- [stoblyx] [    Test worker] .c.s.DirtiesContextTestExecutionListener : After test method: class [BookmarkApiTest], method [testBookmarkPagination], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-10T08:00:12.352Z DEBUG 4506 --- [stoblyx] [    Test worker] sContextBeforeModesTestExecutionListener : Before test method: class [BookmarkApiTest], method [testGetBookmarksWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-10T08:00:12.352Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 163, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.352Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 164, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.352Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 165, missCount = 1, failureCount = 0]
테스트 시작: 1741593612354
2025-03-10T08:00:12.354Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 166, missCount = 1, failureCount = 0]
Request method:	GET
Request URI:	http://localhost:34383/bookmarks
Proxy:			&lt;none&gt;
Request params:	&lt;none&gt;
Query params:	&lt;none&gt;
Form params:	&lt;none&gt;
Path params:	&lt;none&gt;
Headers:		Accept=application/json, application/javascript, text/javascript, text/json
				X-CSRF-TOKEN=test-csrf-token
				Content-Type=application/json
Cookies:		&lt;none&gt;
Multiparts:		&lt;none&gt;
Body:			&lt;none&gt;
2025-03-10T08:00:12.365Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /bookmarks
2025-03-10T08:00:12.365Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-10T08:00:12.366Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /bookmarks
2025-03-10T08:00:12.366Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-9] o.s.web.servlet.DispatcherServlet        : GET &quot;/bookmarks&quot;, parameters={}
2025-03-10T08:00:12.367Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.j30n.stoblyx.adapter.in.web.controller.BookmarkController#getBookmarks(UserPrincipal, String, Pageable)
2025-03-10T08:00:12.367Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-9] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-03-10T08:00:12.368Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.j30n.stoblyx.adapter.in.web.controller.BookmarkController.getBookmarks(com.j30n.stoblyx.infrastructure.security.UserPrincipal,java.lang.String,org.springframework.data.domain.Pageable); target is of class [com.j30n.stoblyx.adapter.in.web.controller.BookmarkController]
2025-03-10T08:00:12.368Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-9] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.j30n.stoblyx.adapter.in.web.controller.BookmarkController.getBookmarks(com.j30n.stoblyx.infrastructure.security.UserPrincipal,java.lang.String,org.springframework.data.domain.Pageable); target is of class [com.j30n.stoblyx.adapter.in.web.controller.BookmarkController] with authorization manager org.springframework.security.authorization.ObservationAuthorizationManager@64f50210 and decision ExpressionAuthorizationDecision [granted=false, expressionAttribute=isAuthenticated()]
2025-03-10T08:00:12.368Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.j30n.stoblyx.config.ControllerTestAdvice#handleAccessDeniedException(AccessDeniedException)
2025-03-10T08:00:12.369Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/javascript, text/javascript, text/json] and supported [application/json, application/*+json]
2025-03-10T08:00:12.369Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(result=ERROR, message=접근 권한이 없습니다., data=null)]
2025-03-10T08:00:12.370Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-03-10T08:00:12.370Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-9] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-03-10T08:00:12.370Z DEBUG 4506 --- [stoblyx] [o-auto-1-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 403 FORBIDDEN
{
    &quot;result&quot;: &quot;ERROR&quot;,
    &quot;message&quot;: &quot;접근 권한이 없습니다.&quot;,
    &quot;data&quot;: null
}
HTTP/1.1 403 
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: SAMEORIGIN
Content-Type: application/json
Transfer-Encoding: chunked
Date: Mon, 10 Mar 2025 08:00:12 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    &quot;result&quot;: &quot;ERROR&quot;,
    &quot;message&quot;: &quot;접근 권한이 없습니다.&quot;,
    &quot;data&quot;: null
}
인증 없이 북마크 목록 조회 실패 테스트 완료
2025-03-10T08:00:12.374Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 167, missCount = 1, failureCount = 0]
테스트 종료: 1741593612374
2025-03-10T08:00:12.374Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 168, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.376Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 169, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.376Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 170, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.377Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 171, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.378Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 172, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.378Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 173, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.378Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 174, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.378Z DEBUG 4506 --- [stoblyx] [    Test worker] .c.s.DirtiesContextTestExecutionListener : After test method: class [BookmarkApiTest], method [testGetBookmarksWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-03-10T08:00:12.410Z DEBUG 4506 --- [stoblyx] [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@27b4d742 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 175, missCount = 1, failureCount = 0]
2025-03-10T08:00:12.411Z DEBUG 4506 --- [stoblyx] [    Test worker] .c.s.DirtiesContextTestExecutionListener : After test class: class [BookmarkApiTest], class annotated with @DirtiesContext [false] with mode [null]
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 8.12.1</a> at Mar 10, 2025, 8:00:22 AM</p>
</div>
</div>
</body>
</html>
